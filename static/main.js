/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is not neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./static/src/api/auth-api.ts":
/*!************************************!*\
  !*** ./static/src/api/auth-api.ts ***!
  \************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _baseApi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./baseApi */ \"./static/src/api/baseApi.ts\");\n/* harmony import */ var _httpTransport__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./httpTransport */ \"./static/src/api/httpTransport.ts\");\n;\r\n\r\nconst headers = {\r\n    \"Content-type\": \"application/json\"\r\n};\r\nclass AuthApiClass extends _baseApi__WEBPACK_IMPORTED_MODULE_0__.default {\r\n    static signIn(userData) {\r\n        return _httpTransport__WEBPACK_IMPORTED_MODULE_1__.AuthApi.post('/signin', { data: userData, headers: headers });\r\n    }\r\n    static singUp(userData) {\r\n        return _httpTransport__WEBPACK_IMPORTED_MODULE_1__.AuthApi.post('/signup', { data: userData, headers: headers });\r\n    }\r\n    static request() {\r\n        return _httpTransport__WEBPACK_IMPORTED_MODULE_1__.AuthApi.get('/user');\r\n    }\r\n    static logOut() {\r\n        return _httpTransport__WEBPACK_IMPORTED_MODULE_1__.AuthApi.post('/logout', { headers: headers });\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AuthApiClass);\r\n\n\n//# sourceURL=webpack://y-messenger/./static/src/api/auth-api.ts?");

/***/ }),

/***/ "./static/src/api/baseApi.ts":
/*!***********************************!*\
  !*** ./static/src/api/baseApi.ts ***!
  \***********************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\nclass BaseAPI {\r\n    create() { }\r\n    request() { }\r\n    update() { }\r\n    delete() { }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BaseAPI);\r\n\n\n//# sourceURL=webpack://y-messenger/./static/src/api/baseApi.ts?");

/***/ }),

/***/ "./static/src/api/baseUrl.ts":
/*!***********************************!*\
  !*** ./static/src/api/baseUrl.ts ***!
  \***********************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\nconst baseurl = 'https://ya-praktikum.tech/api/v2';\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (baseurl);\r\n\n\n//# sourceURL=webpack://y-messenger/./static/src/api/baseUrl.ts?");

/***/ }),

/***/ "./static/src/api/chats-api.ts":
/*!*************************************!*\
  !*** ./static/src/api/chats-api.ts ***!
  \*************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _baseApi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./baseApi */ \"./static/src/api/baseApi.ts\");\n/* harmony import */ var _httpTransport__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./httpTransport */ \"./static/src/api/httpTransport.ts\");\n;\r\n\r\nconst headers = {\r\n    \"Content-type\": \"application/json\"\r\n};\r\nclass chatsApiHandler extends _baseApi__WEBPACK_IMPORTED_MODULE_0__.default {\r\n    static getAllChats() {\r\n        return _httpTransport__WEBPACK_IMPORTED_MODULE_1__.ChatsApi.get('/');\r\n    }\r\n    static createChat(data) {\r\n        return _httpTransport__WEBPACK_IMPORTED_MODULE_1__.ChatsApi.post('/', { data, headers: headers });\r\n    }\r\n    static deleteChat(data) {\r\n        return _httpTransport__WEBPACK_IMPORTED_MODULE_1__.ChatsApi.delete('', { data, headers: headers });\r\n    }\r\n    static addUserToChat(data) {\r\n        return _httpTransport__WEBPACK_IMPORTED_MODULE_1__.ChatsApi.put('/users', { data, headers: headers });\r\n    }\r\n    static getChatUsers(id) {\r\n        return _httpTransport__WEBPACK_IMPORTED_MODULE_1__.ChatsApi.get(`/${id}/users`);\r\n    }\r\n    static deleteChatUser(data) {\r\n        return _httpTransport__WEBPACK_IMPORTED_MODULE_1__.ChatsApi.delete('/users', { data, headers: headers });\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (chatsApiHandler);\r\n\n\n//# sourceURL=webpack://y-messenger/./static/src/api/chats-api.ts?");

/***/ }),

/***/ "./static/src/api/httpTransport.ts":
/*!*****************************************!*\
  !*** ./static/src/api/httpTransport.ts ***!
  \*****************************************/
/*! namespace exports */
/*! export AuthApi [provided] [no usage info] [missing usage info prevents renaming] */
/*! export ChatsApi [provided] [no usage info] [missing usage info prevents renaming] */
/*! export UserApi [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AuthApi\": () => /* binding */ AuthApi,\n/* harmony export */   \"UserApi\": () => /* binding */ UserApi,\n/* harmony export */   \"ChatsApi\": () => /* binding */ ChatsApi\n/* harmony export */ });\n/* harmony import */ var _baseUrl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./baseUrl */ \"./static/src/api/baseUrl.ts\");\n;\r\nconst METHODS = {\r\n    GET: 'GET',\r\n    POST: \"POST\",\r\n    PUT: \"PUT\",\r\n    DELETE: \"DELETE\"\r\n};\r\nfunction queryStringify(data) {\r\n    return Object.entries(data).reduce((acc, res) => {\r\n        let keyName = res[0];\r\n        let keyValue = res[1];\r\n        return acc + `${keyName}=${keyValue.toString()}&`;\r\n    }, '?');\r\n}\r\nfunction convert(str) {\r\n    return str.replace(/&quot;/g, '\"')\r\n        .replace(/&gt;/g, '>')\r\n        .replace(/&lt;/g, '<')\r\n        .replace(/&amp;/g, '&');\r\n}\r\nclass HTTPTransport {\r\n    constructor(prefix) {\r\n        this.baseUrl = _baseUrl__WEBPACK_IMPORTED_MODULE_0__.default;\r\n        this.get = (url, options = {}) => {\r\n            return this.request(url, Object.assign(Object.assign({}, options), { method: METHODS.GET }), options.timeout);\r\n        };\r\n        this.post = (url, options) => {\r\n            return this.request(url, Object.assign(Object.assign({}, options), { method: METHODS.POST }), options.timeout);\r\n        };\r\n        this.put = (url, options) => {\r\n            return this.request(url, Object.assign(Object.assign({}, options), { method: METHODS.PUT }), options.timeout);\r\n        };\r\n        this.delete = (url, options) => {\r\n            return this.request(url, Object.assign(Object.assign({}, options), { method: METHODS.DELETE }), options.timeout);\r\n        };\r\n        // PUT, POST, DELETE\r\n        // options:\r\n        // headers — obj\r\n        // data — obj\r\n        this.request = (url, options, timeout = 5000) => {\r\n            let { headers, data, method } = options;\r\n            return new Promise((resolve, reject) => {\r\n                const xhr = new XMLHttpRequest();\r\n                if (method == METHODS.GET) {\r\n                    if (options.data !== undefined) {\r\n                        url += queryStringify(options.data);\r\n                        url = url.substr(0, url.length - 1);\r\n                    }\r\n                }\r\n                xhr.open(method, this.baseUrl + this.prefix + url);\r\n                if (headers) {\r\n                    Object.entries(headers).forEach(header => {\r\n                        let headerKey = header[0];\r\n                        let headerValue = header[1];\r\n                        xhr.setRequestHeader(headerKey, headerValue);\r\n                    });\r\n                }\r\n                xhr.withCredentials = true;\r\n                xhr.responseType = 'json';\r\n                xhr.onload = function () {\r\n                    resolve(xhr);\r\n                };\r\n                xhr.timeout = timeout;\r\n                xhr.onabort = reject;\r\n                xhr.onerror = reject;\r\n                xhr.ontimeout = reject;\r\n                if (data !== undefined) {\r\n                    data = convert(data);\r\n                }\r\n                if (method == METHODS.GET || !data) {\r\n                    xhr.send();\r\n                }\r\n                else {\r\n                    xhr.send(options.data);\r\n                }\r\n            });\r\n        };\r\n        this.prefix = prefix;\r\n    }\r\n}\r\nconst AuthApi = new HTTPTransport('/auth');\r\nconst UserApi = new HTTPTransport('/user');\r\nconst ChatsApi = new HTTPTransport('/chats');\r\n\n\n//# sourceURL=webpack://y-messenger/./static/src/api/httpTransport.ts?");

/***/ }),

/***/ "./static/src/api/user-api.ts":
/*!************************************!*\
  !*** ./static/src/api/user-api.ts ***!
  \************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _baseApi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./baseApi */ \"./static/src/api/baseApi.ts\");\n/* harmony import */ var _httpTransport__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./httpTransport */ \"./static/src/api/httpTransport.ts\");\n\r\n\r\n\r\nconst headers = {\r\n    \"Content-type\": \"application/json\"\r\n};\r\nclass UserApiClass extends _baseApi__WEBPACK_IMPORTED_MODULE_0__.default {\r\n    static changeUserProfile(userData) {\r\n        return _httpTransport__WEBPACK_IMPORTED_MODULE_1__.UserApi.put('/profile', { data: userData, headers });\r\n    }\r\n    static changeUserAvatar(avatar) {\r\n        return _httpTransport__WEBPACK_IMPORTED_MODULE_1__.UserApi.put('/profile/avatar', { data: avatar, headers: headers });\r\n    }\r\n    static changeUserPassword(userData) {\r\n        return _httpTransport__WEBPACK_IMPORTED_MODULE_1__.UserApi.put('/password', { data: userData, headers: headers });\r\n    }\r\n    static getUserById(id) {\r\n        return _httpTransport__WEBPACK_IMPORTED_MODULE_1__.UserApi.get(`/${id}`);\r\n    }\r\n    static searchForUsers(userData) {\r\n        return _httpTransport__WEBPACK_IMPORTED_MODULE_1__.UserApi.post('/search', { data: userData, headers: headers });\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UserApiClass);\r\n\n\n//# sourceURL=webpack://y-messenger/./static/src/api/user-api.ts?");

/***/ }),

/***/ "./static/src/components/button/index.ts":
/*!***********************************************!*\
  !*** ./static/src/components/button/index.ts ***!
  \***********************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _vendor_block_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../vendor/block/index */ \"./static/src/vendor/block/index.ts\");\n/* harmony import */ var _template__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./template */ \"./static/src/components/button/template.ts\");\n;\r\n\r\nclass Button extends _vendor_block_index__WEBPACK_IMPORTED_MODULE_0__.default {\r\n    constructor(props) {\r\n        // Создаем враппер дом-элемент button\r\n        super(\"button\", props);\r\n    }\r\n    render() {\r\n        // В проект должен быть ваш собственный шаблонизатор\r\n        return Mustache.render(_template__WEBPACK_IMPORTED_MODULE_1__.default, this.props);\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Button);\r\n\n\n//# sourceURL=webpack://y-messenger/./static/src/components/button/index.ts?");

/***/ }),

/***/ "./static/src/components/button/template.ts":
/*!**************************************************!*\
  !*** ./static/src/components/button/template.ts ***!
  \**************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\nlet template = \"\\n    <button type=\\\"{{type}}\\\" class=\\\"{{className}}\\\">\\n        {{text}}\\n    </button>\\n\";\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (template);\r\n\n\n//# sourceURL=webpack://y-messenger/./static/src/components/button/template.ts?");

/***/ }),

/***/ "./static/src/components/chat-sidebar/index.ts":
/*!*****************************************************!*\
  !*** ./static/src/components/chat-sidebar/index.ts ***!
  \*****************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _vendor_block_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../vendor/block/index */ \"./static/src/vendor/block/index.ts\");\n/* harmony import */ var _template__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./template */ \"./static/src/components/chat-sidebar/template.ts\");\n;\r\n\r\nclass ChatSidebar extends _vendor_block_index__WEBPACK_IMPORTED_MODULE_0__.default {\r\n    constructor(props) {\r\n        // Создаем враппер дом-элемент button\r\n        super(\"div\", props);\r\n    }\r\n    render() {\r\n        // В проект должен быть ваш собственный шаблонизатор\r\n        return Mustache.render(_template__WEBPACK_IMPORTED_MODULE_1__.default, this.props);\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChatSidebar);\r\n\n\n//# sourceURL=webpack://y-messenger/./static/src/components/chat-sidebar/index.ts?");

/***/ }),

/***/ "./static/src/components/chat-sidebar/template.ts":
/*!********************************************************!*\
  !*** ./static/src/components/chat-sidebar/template.ts ***!
  \********************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\nlet template = `\r\n    <aside class=\"sidebar-wrapper\">\r\n            <div class=\"sidebar-header\">\r\n                <form class=\"js-create-new-chat\">\r\n                    <input type=\"text\" name=\"title\">\r\n                    <button type=\"submit\">Создать новый чат</button>\r\n                </form>\r\n                <div class=\"profile-link-wrapper\">\r\n                    <a href=\"/profile\" class=\"profile-link\">\r\n                        Профиль\r\n                        <svg width=\"6\" height=\"10\">\r\n                            <use xlink:href=\"#chevron-left_icon\"></use>\r\n                        </svg>\r\n                    </a>\r\n                </div>\r\n                <div class=\"sidebar-header-search-form\">\r\n                    <form action=\"\">\r\n                        <label>\r\n                            <input type=\"text\" class=\"js-input-control\">\r\n                            <span class=\"d-flex search-form-placeholder-wrapper align-items-center justify-content-center\">\r\n                                    <svg width=\"20\" height=\"20\">\r\n                                        <use xlink:href=\"#search_icon\"></use>\r\n                                    </svg>\r\n                                    <span class=\"search-form-placeholder\">Поиск</span>\r\n                                </span>\r\n                        </label>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n            <ul class=\"sidebar-content\">\r\n                {{#chats}}\r\n                    <li class=\"sidebar-chat-wrap\">\r\n                    <a href=\"/open-chat\" data-chat-id=\"{{id}}\">\r\n                        <div class=\"d-flex sidebar-chat\">\r\n                        <div class=\"sidebar-chat-img\">\r\n                            <img src=\"{{profile_img}}\" alt=\"{{name}}\">\r\n                        </div>\r\n                        <div class=\"sidebar-chat-textbox\">\r\n                            <h2 class=\"sidebar-chat-sender\">\r\n                                {{title}}\r\n                            </h2>\r\n                            <span class=\"sidebar-chat-message\">\r\n                                    <b>Вы: </b> стикер\r\n                                </span>\r\n                        </div>\r\n                        <div class=\"sidebar-chat-additional-data\">\r\n                            <time class=\"sidebar-chat-time\">\r\n                                {{time}}\r\n                            </time>\r\n                            {{#unreadMessages}}\r\n                                <div class=\"sidebar-chat-new-messages\">\r\n                                    {{unreadMessages}}\r\n                                </div>\r\n                            {{/unreadMessages}}    \r\n                        </div>\r\n                    </div>\r\n                    </a>\r\n                </li>\r\n                 {{/chats}}\r\n                \r\n            </ul>\r\n        </aside>\r\n`;\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (template);\r\n\n\n//# sourceURL=webpack://y-messenger/./static/src/components/chat-sidebar/template.ts?");

/***/ }),

/***/ "./static/src/components/sidebar/index.ts":
/*!************************************************!*\
  !*** ./static/src/components/sidebar/index.ts ***!
  \************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _vendor_block_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../vendor/block/index */ \"./static/src/vendor/block/index.ts\");\n/* harmony import */ var _template__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./template */ \"./static/src/components/sidebar/template.ts\");\n;\r\n\r\n// Импортировал js так как не мог нормально собрать проект, чтобы он сразу выдавал\r\n// мне валидный код с правильным расширением и ts пока не может\r\n// https://github.com/Microsoft/TypeScript/issues/13422 Очень жду спринта с вебпаком =)\r\nclass Sidebar extends _vendor_block_index__WEBPACK_IMPORTED_MODULE_0__.default {\r\n    constructor(props) {\r\n        // Создаем враппер дом-элемент button\r\n        super(\"aside\", props);\r\n    }\r\n    render() {\r\n        // В проект должен быть ваш собственный шаблонизатор\r\n        return Mustache.render(_template__WEBPACK_IMPORTED_MODULE_1__.default, this.props);\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Sidebar);\r\n\n\n//# sourceURL=webpack://y-messenger/./static/src/components/sidebar/index.ts?");

/***/ }),

/***/ "./static/src/components/sidebar/template.ts":
/*!***************************************************!*\
  !*** ./static/src/components/sidebar/template.ts ***!
  \***************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\nlet template = `\r\n    <aside class=\"profile-sidebar sidebar-wrapper\">\r\n        <button type=\"submit\" class=\"submit-message get-back-button\">\r\n            <a href=\"{{href}}\">\r\n                <svg width=\"13\" height=\"12\">\r\n                    <use xlink:href=\"#arrow-right_icon\"></use>\r\n                </svg>\r\n            </a>\r\n        </button>\r\n    </aside>\r\n    \r\n`;\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (template);\r\n\n\n//# sourceURL=webpack://y-messenger/./static/src/components/sidebar/template.ts?");

/***/ }),

/***/ "./static/src/module/MailRegExp.ts":
/*!*****************************************!*\
  !*** ./static/src/module/MailRegExp.ts ***!
  \*****************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\nconst MailRegExp = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MailRegExp);\r\n\n\n//# sourceURL=webpack://y-messenger/./static/src/module/MailRegExp.ts?");

/***/ }),

/***/ "./static/src/module/Validation.ts":
/*!*****************************************!*\
  !*** ./static/src/module/Validation.ts ***!
  \*****************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _MailRegExp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MailRegExp */ \"./static/src/module/MailRegExp.ts\");\n;\r\nconst ValidationMethods = {\r\n    inputs: {},\r\n    errorMessages: {\r\n        required: 'Обязательно для заполнения',\r\n        email: 'Введите корректный email',\r\n        minLength: `Минимальное количество символов {length}`,\r\n        isFocused: ''\r\n    },\r\n    printErrorMessage: (input, text) => {\r\n        let label = input.closest('label');\r\n        let errorTextElement = label.querySelector('.input-error');\r\n        errorTextElement.textContent = text;\r\n    },\r\n    validate: (inputs) => {\r\n        ValidationMethods.inputs = inputs;\r\n        for (let name in inputs) {\r\n            let input = document.getElementsByName(name)[0];\r\n            let rules = [];\r\n            rules = Object.entries(inputs[name]).reduce((acc, inp) => {\r\n                const validationFunctionName = inp[0];\r\n                const validationFunction = Validators[validationFunctionName].bind(input);\r\n                const validationArgument = inp[1];\r\n                acc.push({\r\n                    function: validationFunction,\r\n                    arguments: validationArgument,\r\n                });\r\n                return acc;\r\n            }, []);\r\n            input.addEventListener('blur', () => {\r\n                for (let i = 0; i < rules.length; i++) {\r\n                    let ruleResult = rules[i].function(rules[i].arguments);\r\n                    if (!ruleResult) {\r\n                        return false;\r\n                    }\r\n                }\r\n            });\r\n            input.addEventListener('focus', () => {\r\n                ValidationMethods.printErrorMessage(input, ValidationMethods.errorMessages.isFocused);\r\n            });\r\n        }\r\n    },\r\n    validateFieldsImmediately: function (inputs) {\r\n        if (inputs == undefined) {\r\n            inputs = ValidationMethods.inputs;\r\n        }\r\n        console.log(inputs);\r\n        let has_errors = false;\r\n        for (let name in inputs) {\r\n            if (!this.elements[name]) {\r\n                continue;\r\n            }\r\n            const input = document.getElementsByName(name)[0];\r\n            let rules = [];\r\n            rules = Object.entries(inputs[name]).reduce((acc, inp) => {\r\n                const validationFunctionName = inp[0];\r\n                const validationFunction = Validators[validationFunctionName].bind(input);\r\n                const validationArgument = inp[1];\r\n                acc.push({\r\n                    function: validationFunction,\r\n                    arguments: validationArgument,\r\n                });\r\n                return acc;\r\n            }, []);\r\n            let notValid = true;\r\n            for (let i = 0; i < rules.length; i++) {\r\n                if (notValid) {\r\n                    let ruleResult = rules[i].function(rules[i].arguments);\r\n                    if (!ruleResult) {\r\n                        has_errors = true;\r\n                        notValid = false;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return has_errors;\r\n    },\r\n};\r\n// Опираясь на данную реализацию, возможно ли сделать функции валидации чистыми?\r\nconst Validators = {\r\n    \"email\": function () {\r\n        if (!_MailRegExp__WEBPACK_IMPORTED_MODULE_0__.default.test(String(this.value).toLowerCase())) {\r\n            ValidationMethods.printErrorMessage(this, ValidationMethods.errorMessages.email);\r\n            return false;\r\n        }\r\n        return true;\r\n    },\r\n    \"required\": function () {\r\n        if (this.value === '') {\r\n            ValidationMethods.printErrorMessage(this, ValidationMethods.errorMessages.required);\r\n            return false;\r\n        }\r\n        return true;\r\n    },\r\n    \"minLength\": function (length) {\r\n        if (this.value.length < length) {\r\n            ValidationMethods.printErrorMessage(this, ValidationMethods.errorMessages.minLength.replace('{length}', String(length)));\r\n            return false;\r\n        }\r\n        return true;\r\n    },\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ValidationMethods);\r\n\n\n//# sourceURL=webpack://y-messenger/./static/src/module/Validation.ts?");

/***/ }),

/***/ "./static/src/module/form_handler.ts":
/*!*******************************************!*\
  !*** ./static/src/module/form_handler.ts ***!
  \*******************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _Validation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Validation */ \"./static/src/module/Validation.ts\");\n;\r\nfunction handleFormValidation(e, inputs = undefined) {\r\n    console.log(inputs);\r\n    const hasErrorsBoundFunc = _Validation__WEBPACK_IMPORTED_MODULE_0__.default.validateFieldsImmediately.bind(e.target, inputs);\r\n    const hasErrors = hasErrorsBoundFunc();\r\n    console.log(hasErrors);\r\n    e.preventDefault();\r\n    if (!hasErrors) {\r\n        return new FormData(e.target);\r\n    }\r\n    return false;\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (handleFormValidation);\r\n\n\n//# sourceURL=webpack://y-messenger/./static/src/module/form_handler.ts?");

/***/ }),

/***/ "./static/src/module/isAuth.ts":
/*!*************************************!*\
  !*** ./static/src/module/isAuth.ts ***!
  \*************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _api_auth_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../api/auth-api */ \"./static/src/api/auth-api.ts\");\n/* harmony import */ var _vendor_state_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vendor/state/index */ \"./static/src/vendor/state/index.ts\");\n/* harmony import */ var _vendor_router_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../vendor/router/index */ \"./static/src/vendor/router/index.ts\");\n;\r\n\r\n\r\nlet router = new _vendor_router_index__WEBPACK_IMPORTED_MODULE_2__.default('.app');\r\nfunction checkForAuth(url) {\r\n    if (!_vendor_state_index__WEBPACK_IMPORTED_MODULE_1__.default.get('auth').id) {\r\n        _api_auth_api__WEBPACK_IMPORTED_MODULE_0__.default.request()\r\n            .then(function (res) {\r\n            if (res.status === 200) {\r\n                _vendor_state_index__WEBPACK_IMPORTED_MODULE_1__.default.set('auth', res.response);\r\n                if (_vendor_state_index__WEBPACK_IMPORTED_MODULE_1__.default.checkForAuth()) {\r\n                    router.go(url);\r\n                }\r\n                else {\r\n                    router.go('/');\r\n                }\r\n            }\r\n        })\r\n            .catch((err) => {\r\n            console.log(err);\r\n        });\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (checkForAuth);\r\n\n\n//# sourceURL=webpack://y-messenger/./static/src/module/isAuth.ts?");

/***/ }),

/***/ "./static/src/module/placeholder.ts":
/*!******************************************!*\
  !*** ./static/src/module/placeholder.ts ***!
  \******************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\nclass InputPlaceholder {\r\n    constructor(inputs) {\r\n        this.inputs = Array.from(inputs);\r\n        this.inputs.forEach((input) => {\r\n            input.addEventListener('blur', InputPlaceholder.blur.bind(this, input));\r\n        });\r\n    }\r\n    static blur(input) {\r\n        let parent = input.closest('label');\r\n        if (parent === null) {\r\n            return;\r\n        }\r\n        if (input.value === '') {\r\n            parent.classList.remove('js-focused');\r\n            return false;\r\n        }\r\n        parent.classList.add('js-focused');\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (InputPlaceholder);\r\n\n\n//# sourceURL=webpack://y-messenger/./static/src/module/placeholder.ts?");

/***/ }),

/***/ "./static/src/pages/no-chat/index.ts":
/*!*******************************************!*\
  !*** ./static/src/pages/no-chat/index.ts ***!
  \*******************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _vendor_block_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../vendor/block/index */ \"./static/src/vendor/block/index.ts\");\n/* harmony import */ var _components_chat_sidebar_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../components/chat-sidebar/index */ \"./static/src/components/chat-sidebar/index.ts\");\n/* harmony import */ var _template__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./template */ \"./static/src/pages/no-chat/template.ts\");\n/* harmony import */ var _vendor_state_index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../vendor/state/index */ \"./static/src/vendor/state/index.ts\");\n/* harmony import */ var _api_chats_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../api/chats-api */ \"./static/src/api/chats-api.ts\");\n/* harmony import */ var _vendor_router_index__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../vendor/router/index */ \"./static/src/vendor/router/index.ts\");\n;\r\n\r\n\r\n\r\n\r\n\r\nlet router = new _vendor_router_index__WEBPACK_IMPORTED_MODULE_5__.default('.app');\r\nclass noChatPage extends _vendor_block_index__WEBPACK_IMPORTED_MODULE_0__.default {\r\n    constructor() {\r\n        super('div');\r\n        this.noChatPageElement = '';\r\n    }\r\n    updateHTMLContent() {\r\n        noChatPage.noChatPageElement.innerHTML = this._render().outerHTML;\r\n        this.addEventListeners();\r\n    }\r\n    _fetchData() {\r\n        return new Promise((resolve, reject) => {\r\n            if (_vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.get('chats').length) {\r\n                console.log(_vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.get('chats'));\r\n                resolve(_vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.chats);\r\n            }\r\n            else {\r\n                _api_chats_api__WEBPACK_IMPORTED_MODULE_4__.default.getAllChats()\r\n                    .then((res) => {\r\n                    _vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.set('chats', res.response);\r\n                    resolve(res.response);\r\n                })\r\n                    .catch(err => {\r\n                    reject(err);\r\n                });\r\n            }\r\n        });\r\n    }\r\n    render() {\r\n        return Mustache.render(_template__WEBPACK_IMPORTED_MODULE_2__.default, this.props);\r\n    }\r\n    updateSideBar(res) {\r\n        this.sidebar = new _components_chat_sidebar_index__WEBPACK_IMPORTED_MODULE_1__.default({\r\n            chats: res\r\n        });\r\n        this.props = Object.assign(Object.assign({}, this.props), {\r\n            components: {\r\n                sidebar: this.sidebar.render(),\r\n            }\r\n        });\r\n    }\r\n    renderTo(rootElement) {\r\n        this._fetchData()\r\n            .then((res) => {\r\n            this.updateSideBar(res);\r\n            noChatPage.noChatPageElement = this._render();\r\n            rootElement.appendChild(noChatPage.noChatPageElement);\r\n            this.addEventListeners();\r\n        });\r\n    }\r\n    addEventListeners() {\r\n        let createNewChatButton = document.querySelector('.js-create-new-chat');\r\n        createNewChatButton.addEventListener('submit', (e) => {\r\n            e.preventDefault();\r\n            let target = e.target;\r\n            if (target == null) {\r\n                return;\r\n            }\r\n            let targetInputTitle = target.title.value;\r\n            let data = JSON.stringify({ title: targetInputTitle });\r\n            _api_chats_api__WEBPACK_IMPORTED_MODULE_4__.default.createChat(data)\r\n                .then(res => {\r\n                if (res.status === 200) {\r\n                    _api_chats_api__WEBPACK_IMPORTED_MODULE_4__.default.getAllChats()\r\n                        .then((res) => {\r\n                        _vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.set('chats', res.response);\r\n                        this.updateSideBar(res.response);\r\n                        this.updateHTMLContent();\r\n                    })\r\n                        .catch(err => console.log(err));\r\n                }\r\n            })\r\n                .catch(err => console.log(err));\r\n        });\r\n        document.addEventListener('click', (e) => {\r\n            let path = e.composedPath();\r\n            path.pop();\r\n            path.pop();\r\n            let activaChat = Array.from(path).find(el => {\r\n                return el.matches('[data-chat-id]');\r\n            });\r\n            if (activaChat !== undefined) {\r\n                _vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.set('activeChat', { id: activaChat.getAttribute('data-chat-id') });\r\n                router.go('/open-chat');\r\n            }\r\n        });\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new noChatPage());\r\n\n\n//# sourceURL=webpack://y-messenger/./static/src/pages/no-chat/index.ts?");

/***/ }),

/***/ "./static/src/pages/no-chat/template.ts":
/*!**********************************************!*\
  !*** ./static/src/pages/no-chat/template.ts ***!
  \**********************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\nlet template = `\r\n        <div class=\"page-wrapper\">\r\n    <div class=\"d-flex messenger-main-page\">\r\n        {{{components.sidebar}}}\r\n        <main class=\"chats-messages-wrapper\">\r\n            <div class=\"no-chat-message\">\r\n                Выберите чат чтобы отправить сообщение\r\n            </div>\r\n        </main>\r\n    </div>\r\n</div>\r\n    `;\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (template);\r\n\n\n//# sourceURL=webpack://y-messenger/./static/src/pages/no-chat/template.ts?");

/***/ }),

/***/ "./static/src/pages/open-chat/index.ts":
/*!*********************************************!*\
  !*** ./static/src/pages/open-chat/index.ts ***!
  \*********************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _vendor_block_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../vendor/block/index */ \"./static/src/vendor/block/index.ts\");\n/* harmony import */ var _components_chat_sidebar_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../components/chat-sidebar/index */ \"./static/src/components/chat-sidebar/index.ts\");\n/* harmony import */ var _template__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./template */ \"./static/src/pages/open-chat/template.ts\");\n/* harmony import */ var _vendor_state_index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../vendor/state/index */ \"./static/src/vendor/state/index.ts\");\n/* harmony import */ var _vendor_router_index__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../vendor/router/index */ \"./static/src/vendor/router/index.ts\");\n/* harmony import */ var _api_chats_api__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../api/chats-api */ \"./static/src/api/chats-api.ts\");\n;\r\n\r\n\r\n\r\n\r\n\r\nlet router = new _vendor_router_index__WEBPACK_IMPORTED_MODULE_4__.default('.app');\r\nclass openChatPage extends _vendor_block_index__WEBPACK_IMPORTED_MODULE_0__.default {\r\n    constructor() {\r\n        super('div');\r\n        this.openChatPageElement = document.createElement('div');\r\n    }\r\n    updateHTMLContent() {\r\n        openChatPage.openChatPageElement.innerHTML = this._render().outerHTML;\r\n        this.addEventListeners();\r\n    }\r\n    checkForActiveChat() {\r\n        if (_vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.get('activeChat').id === null || !_vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.get('activeChat').id) {\r\n            router.go('/no-chat');\r\n        }\r\n    }\r\n    show() {\r\n        this.checkForActiveChat();\r\n        super.show();\r\n    }\r\n    _fetchData() {\r\n        let chatsPromise = new Promise((resolve, reject) => {\r\n            if (_vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.get('chats').length) {\r\n                resolve(_vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.chats);\r\n            }\r\n            else {\r\n                _api_chats_api__WEBPACK_IMPORTED_MODULE_5__.default.getAllChats()\r\n                    .then(res => {\r\n                    _vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.set('chats', res.response);\r\n                    resolve(res.response);\r\n                })\r\n                    .catch(err => {\r\n                    reject(err);\r\n                });\r\n            }\r\n        });\r\n        let chatPromise = new Promise((resolve, reject) => {\r\n            _api_chats_api__WEBPACK_IMPORTED_MODULE_5__.default.getChatUsers(_vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.get('activeChat').id)\r\n                .then(res => {\r\n                resolve(res.response);\r\n            })\r\n                .catch(err => reject(err));\r\n        });\r\n        return Promise.all([chatsPromise, chatPromise]);\r\n    }\r\n    render() {\r\n        return Mustache.render(_template__WEBPACK_IMPORTED_MODULE_2__.default, this.props);\r\n    }\r\n    getDataForChatUpdate() {\r\n        return new Promise((resolve, reject) => {\r\n            _api_chats_api__WEBPACK_IMPORTED_MODULE_5__.default.getChatUsers(_vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.get('activeChat').id)\r\n                .then(res => {\r\n                resolve(res.response);\r\n            })\r\n                .catch(err => reject(err));\r\n        });\r\n    }\r\n    updateChat() {\r\n        if (!_vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.get('activeChat').id) {\r\n            return;\r\n        }\r\n        this.getDataForChatUpdate()\r\n            .then(res => {\r\n            console.log(Array.from(_vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.get('chats')));\r\n            console.log(Array.from(_vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.get('chats')));\r\n            this.sidebar = new _components_chat_sidebar_index__WEBPACK_IMPORTED_MODULE_1__.default({\r\n                chats: _vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.get('chats'),\r\n            });\r\n            // this.MessagesBlock = new messages({\r\n            //\r\n            // });\r\n            this.props = Object.assign(Object.assign({}, this.props), {\r\n                components: {\r\n                    sidebar: this.sidebar.render(),\r\n                },\r\n                data: {\r\n                    chat: {\r\n                        name: 'Вадим',\r\n                        time: '10:49',\r\n                        last_time: '5',\r\n                        unreadMessages: 2,\r\n                        profile_img: 'assets/img/ava-sol-b4Ml2OidO6o-unsplash.jpg',\r\n                        is_last_message_your: true,\r\n                        lastMessage: 'стикер'\r\n                    },\r\n                    chatUsers: res\r\n                }\r\n            });\r\n            if (openChatPage.openChatPageElement !== undefined) {\r\n                openChatPage.openChatPageElement.innerHTML = this._render().innerHTML;\r\n                this.addEventListeners();\r\n            }\r\n        })\r\n            .catch(err => {\r\n            console.log(err);\r\n        });\r\n    }\r\n    renderTo(rootElement) {\r\n        this.checkForActiveChat();\r\n        this._fetchData()\r\n            .then(res => {\r\n            this.sidebar = new _components_chat_sidebar_index__WEBPACK_IMPORTED_MODULE_1__.default({\r\n                chats: res[0],\r\n            });\r\n            /* this.MessagesBlock = new messages({\r\n\r\n             });*/\r\n            this.props = Object.assign(Object.assign({}, this.props), {\r\n                components: {\r\n                    sidebar: this.sidebar.render(),\r\n                },\r\n                data: {\r\n                    chat: {\r\n                        name: 'Вадим',\r\n                        time: '10:49',\r\n                        last_time: '5',\r\n                        unreadMessages: 2,\r\n                        profile_img: 'assets/img/ava-sol-b4Ml2OidO6o-unsplash.jpg',\r\n                        is_last_message_your: true,\r\n                        lastMessage: 'стикер'\r\n                    },\r\n                    chatUsers: res[1]\r\n                }\r\n            });\r\n            openChatPage.openChatPageElement = this._render();\r\n            rootElement.appendChild(openChatPage.openChatPageElement);\r\n            this.addEventListeners();\r\n        });\r\n    }\r\n    addEventListeners() {\r\n        let createNewChatButton = document.querySelector('.js-create-new-chat');\r\n        createNewChatButton.addEventListener('submit', (e) => {\r\n            e.preventDefault();\r\n            let target = e.target;\r\n            let targetInputTitle = target.title;\r\n            let data = JSON.stringify({ title: targetInputTitle });\r\n            _api_chats_api__WEBPACK_IMPORTED_MODULE_5__.default.createChat(data)\r\n                .then(res => {\r\n                if (res.status === 200) {\r\n                    _api_chats_api__WEBPACK_IMPORTED_MODULE_5__.default.getAllChats()\r\n                        .then(res => {\r\n                        _vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.set('chats', res.response);\r\n                        this.props = Object.assign(Object.assign({}, this.props), { chats: res.response });\r\n                        this.updateHTMLContent();\r\n                    })\r\n                        .catch(err => console.log(err));\r\n                }\r\n            })\r\n                .catch(err => console.log(err));\r\n        });\r\n        document.addEventListener('click', (e) => {\r\n            let path = e.composedPath();\r\n            path.pop();\r\n            path.pop();\r\n            let activaChat = Array.from(path).find(el => {\r\n                return el.matches('[data-chat-id]');\r\n            });\r\n            if (activaChat !== undefined) {\r\n                e.stopImmediatePropagation();\r\n                e.stopPropagation();\r\n                _vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.set('activeChat', { id: activaChat.getAttribute('data-chat-id') });\r\n                router.go('/open-chat');\r\n                return false;\r\n            }\r\n            let deleteButton = Array.from(path).find(el => {\r\n                return el.matches('.js-delete-user');\r\n            });\r\n            if (deleteButton) {\r\n                let data = JSON.stringify({\r\n                    users: [deleteButton.getAttribute('data-id')],\r\n                    chatId: _vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.get('activeChat').id\r\n                });\r\n                _api_chats_api__WEBPACK_IMPORTED_MODULE_5__.default.deleteChatUser(data)\r\n                    .then(res => {\r\n                    console.log(res);\r\n                })\r\n                    .catch(err => console.log(err));\r\n            }\r\n        });\r\n        let addUserForm = document.querySelector('#add-user-form');\r\n        addUserForm.addEventListener('submit', (e) => {\r\n            e.preventDefault();\r\n            let userIdInput = e.target.user_id;\r\n            let data = JSON.stringify({\r\n                users: [userIdInput.value],\r\n                chatId: _vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.get('activeChat').id\r\n            });\r\n            _api_chats_api__WEBPACK_IMPORTED_MODULE_5__.default.addUserToChat(data)\r\n                .then(res => {\r\n                if (res.status === 200) {\r\n                    let modalOverlay = document.querySelector('.modal-overlay');\r\n                    if (modalOverlay !== null) {\r\n                        modalOverlay.classList.remove('active');\r\n                    }\r\n                    this.updateChat();\r\n                }\r\n                else {\r\n                    alert('Упс, ошибка вышла, попробуйте ввести другой id');\r\n                }\r\n            })\r\n                .catch(err => console.log(err));\r\n        });\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new openChatPage());\r\n\n\n//# sourceURL=webpack://y-messenger/./static/src/pages/open-chat/index.ts?");

/***/ }),

/***/ "./static/src/pages/open-chat/template.ts":
/*!************************************************!*\
  !*** ./static/src/pages/open-chat/template.ts ***!
  \************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\nlet pageTemplate = `\r\n        <div class=\"page-wrapper\">\r\n    <div class=\"d-flex messenger-main-page\">\r\n        {{{components.sidebar}}}\r\n         <main class=\"chats-messages-wrapper\">\r\n                <div class=\"chat-messages\">\r\n                    <header class=\"chat-messages-header\">\r\n                        <div class=\"chat-messages-person-info d-flex\">\r\n                            <div class=\"chat-messages-person-img\">\r\n                                <img src=\"{{chat.profile_img}}\" alt=\"{{chat.name}}\">\r\n                            </div>\r\n                            <div class=\"chat-messages-textbox\">\r\n                                <h1 class=\"sidebar-chat-sender\">\r\n                                    {{chat.name}}\r\n                                </h1>\r\n                                <div class=\"chat-messages-last-activity\">\r\n                                    Был {{chat.last_time}} минут назад\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <a class=\"chat-messages-drop\">\r\n                            <svg width=\"3\" height=\"16\">\r\n                                <use xlink:href=\"#menu_icon\"></use>\r\n                            </svg>\r\n                            <div class=\"chat-messages-drop-wrapper\">\r\n                                <ul>\r\n                                    <li>\r\n                                        <button type=\"button\" class=\"js-rename-chat chat-messages-drop-link\">\r\n                                            <svg width=\"22\" height=\"19\">\r\n                                                <use xlink:href=\"#edit_icon\"></use>\r\n                                            </svg>\r\n                                            <span>\r\n                                                Переименовать\r\n                                            </span>\r\n                                        </button>\r\n                                    </li>\r\n                                     <li>\r\n                                        <button type=\"button\" data-modal-id=\"#add-user\" class=\"js-modal-trigger js-remove-chat chat-messages-drop-link\">\r\n                                            <svg width=\"22\" height=\"22\">\r\n                                                <use xlink:href=\"#delete_icon\"></use>\r\n                                            </svg>\r\n                                            <span>\r\n                                                Добавить пользователя\r\n                                            </span>\r\n                                        </button>\r\n                                    </li>\r\n                                    <li>\r\n                                        <button type=\"button\" data-modal-id=\"#remove-chat\" class=\"js-modal-trigger js-remove-chat chat-messages-drop-link\">\r\n                                            <svg width=\"22\" height=\"22\">\r\n                                                <use xlink:href=\"#delete_icon\"></use>\r\n                                            </svg>\r\n                                            <span>\r\n                                                Удалить чат\r\n                                            </span>\r\n                                        </button>\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                        </a>\r\n                    </header>\r\n                    <div>\r\n                        <ul class=\"chat-users\">\r\n                            {{#data.chatUsers}}\r\n                                <li class=\"sidebar-chat-wrap\">\r\n                                        <div class=\"d-flex sidebar-chat\">\r\n                                            <div class=\"sidebar-chat-img\">\r\n                                                <img src=\"{{avatar}}\" alt=\"{{name}}\">\r\n                                            </div>\r\n                                            <div class=\"sidebar-chat-textbox\">\r\n                                                <h2 class=\"sidebar-chat-sender\">\r\n                                                    {{display_name}}\r\n                                                </h2>\r\n                                                <h3 >\r\n                                                {{role}}\r\n                                                </h3>\r\n                                            </div>\r\n                                        </div>\r\n                                        <button data-id=\"{{id}}\" type=\"button\" class=\"js-delete-user\">Удалить</button>\r\n                                </li>\r\n                             {{/data.chatUsers}}\r\n                        </ul>\r\n                    </div>\r\n                    <div class=\"chat-messages-body\">\r\n                        <div class=\"chat-messages-body-wrapper\">\r\n\r\n                            {{{components.messages}}}\r\n\r\n\r\n\r\n                        </div>\r\n                    </div>\r\n                    <footer class=\"chat-messages-footer\">\r\n                        <div class=\"text-submittion-wrapper\">\r\n                            <form>\r\n                                <div class=\"d-flex align-items-center\">\r\n                                    <div class=\"clip-wrapper\">\r\n                                        <button class=\"clip_icon_wrapper\">\r\n                                            <svg width=\"32\" height=\"32\">\r\n                                                <use xlink:href=\"#clip_icon\"></use>\r\n                                            </svg>\r\n                                        </button>\r\n                                        <div class=\"chat-messages-drop-wrapper\">\r\n                                            <ul>\r\n                                                <li>\r\n                                                    <button class=\"js-rename-chat chat-messages-drop-link\">\r\n                                                        <svg width=\"22\" height=\"22\">\r\n                                                            <use xlink:href=\"#photo_icon\"></use>\r\n                                                        </svg>\r\n                                                        <span>\r\n                                                Фото или Видео\r\n                                            </span>\r\n                                                    </button>\r\n                                                </li>\r\n                                                <li>\r\n                                                    <button class=\"js-remove-chat chat-messages-drop-link\">\r\n                                                        <svg width=\"22\" height=\"22\">\r\n                                                            <use xlink:href=\"#file_icon\"></use>\r\n                                                        </svg>\r\n                                                        <span>\r\n                                               Файл\r\n                                            </span>\r\n                                                    </button>\r\n                                                </li>\r\n                                                <li>\r\n                                                    <button class=\"js-remove-chat chat-messages-drop-link\">\r\n                                                        <svg width=\"22\" height=\"22\">\r\n                                                            <use xlink:href=\"#location_icon\"></use>\r\n                                                        </svg>\r\n                                                        <span>\r\n                                                Локация\r\n                                            </span>\r\n                                                    </button>\r\n                                                </li>\r\n                                            </ul>\r\n                                        </div>\r\n                                    </div>\r\n                                    <label class=\"message_field-label\">\r\n                                        <textarea class=\"message_field\" name=\"message\" placeholder=\"Сообщение\"></textarea>\r\n                                    </label>\r\n                                    <button type=\"submit\" class=\"submit-message\">\r\n                                        <svg width=\"13\" height=\"12\">\r\n                                            <use xlink:href=\"#arrow-right_icon\"></use>\r\n                                        </svg>\r\n                                    </button>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </footer>\r\n                </div>\r\n            </main>\r\n        </div>\r\n        <div class=\"modal-overlay\">\r\n            <div id=\"remove-chat\" class=\"modal-chat-delete modal\">\r\n                <div class=\"modal-title\">\r\n                    Вы хотите удалить чат\r\n                </div>\r\n                <div class=\"modal-buttons-row d-flex\">\r\n                    <button class=\"btn-danger default-button\">\r\n                        Удалить\r\n                    </button>\r\n                    <button data-js-modal-close type=\"button\" class=\"btn-gray default-button\">\r\n                        Отменить\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <div id=\"add-user\" class=\"modal-chat-delete modal\">\r\n               <form id=\"add-user-form\">\r\n                    <div class=\"modal-title\">\r\n                        Вы хотите добавить пользователя?\r\n                    </div>\r\n                    <div class=\"add-user-input-wrapper\">\r\n                        <input type=\"text\" name=\"user_id\" placeholder=\"Введите id пользователя\">\r\n                    </div>\r\n                    <div class=\"modal-buttons-row d-flex\">\r\n                        <button type=\"submit\" class=\"default-button\">\r\n                           Добавить\r\n                        </button>\r\n                        <button data-js-modal-close type=\"button\" class=\"btn-gray default-button\">\r\n                            Отменить\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n            \r\n        </div>\r\n</div>\r\n    `;\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (pageTemplate);\r\n\n\n//# sourceURL=webpack://y-messenger/./static/src/pages/open-chat/template.ts?");

/***/ }),

/***/ "./static/src/pages/profile-edit/index.ts":
/*!************************************************!*\
  !*** ./static/src/pages/profile-edit/index.ts ***!
  \************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _components_sidebar_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../components/sidebar/index */ \"./static/src/components/sidebar/index.ts\");\n/* harmony import */ var _components_button_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../components/button/index */ \"./static/src/components/button/index.ts\");\n/* harmony import */ var _template__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./template */ \"./static/src/pages/profile-edit/template.ts\");\n/* harmony import */ var _src_module_Validation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../src/module/Validation */ \"./static/src/module/Validation.ts\");\n/* harmony import */ var _src_module_form_handler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../src/module/form_handler */ \"./static/src/module/form_handler.ts\");\n/* harmony import */ var _vendor_block_index__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../vendor/block/index */ \"./static/src/vendor/block/index.ts\");\n/* harmony import */ var _api_user_api__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../api/user-api */ \"./static/src/api/user-api.ts\");\n/* harmony import */ var _vendor_state_index__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../vendor/state/index */ \"./static/src/vendor/state/index.ts\");\n/* harmony import */ var _module_isAuth__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../module/isAuth */ \"./static/src/module/isAuth.ts\");\n/* harmony import */ var _vendor_router_index__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../vendor/router/index */ \"./static/src/vendor/router/index.ts\");\n;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet router = new _vendor_router_index__WEBPACK_IMPORTED_MODULE_9__.default('.app');\r\nclass ProfileEditPage extends _vendor_block_index__WEBPACK_IMPORTED_MODULE_5__.default {\r\n    constructor() {\r\n        super('div');\r\n        this.rootElement = document.querySelector('.app');\r\n        if (this.rootElement === null) {\r\n            throw new Error('Корневого элемента не существует');\r\n        }\r\n        this.profilePageElement = document.createElement('div');\r\n        this.registerEvents();\r\n    }\r\n    registerEvents() {\r\n        this.eventBus.on(_vendor_block_index__WEBPACK_IMPORTED_MODULE_5__.default.EVENTS.INIT, this.getData.bind(this));\r\n        this.eventBus.on(_vendor_block_index__WEBPACK_IMPORTED_MODULE_5__.default.EVENTS.FLOW_CDU, this.renderTo.bind(this));\r\n    }\r\n    getData() {\r\n        (0,_module_isAuth__WEBPACK_IMPORTED_MODULE_8__.default)('/profile-edit');\r\n    }\r\n    hide() {\r\n        try {\r\n            ProfileEditPage.profilePageElement.remove();\r\n        }\r\n        catch (e) {\r\n            void e;\r\n        }\r\n    }\r\n    show() {\r\n        try {\r\n            this.renderTo();\r\n        }\r\n        catch (e) {\r\n            void e;\r\n        }\r\n    }\r\n    _fetchData() {\r\n        return new Promise((resolve, reject) => {\r\n            (0,_module_isAuth__WEBPACK_IMPORTED_MODULE_8__.default)('/profile-edit');\r\n            _api_user_api__WEBPACK_IMPORTED_MODULE_6__.default.getUserById(_vendor_state_index__WEBPACK_IMPORTED_MODULE_7__.default.auth.id)\r\n                .then(res => resolve(res))\r\n                .catch(err => reject(err));\r\n        });\r\n    }\r\n    render() {\r\n        return Mustache.render(_template__WEBPACK_IMPORTED_MODULE_2__.default, this.props);\r\n    }\r\n    renderTo() {\r\n        this._fetchData()\r\n            .then(res => {\r\n            this.savePersonalDataButton = new _components_button_index__WEBPACK_IMPORTED_MODULE_1__.default({\r\n                type: 'submit',\r\n                className: 'default-button',\r\n                text: 'Сохранить'\r\n            });\r\n            this.savePasswordButton = new _components_button_index__WEBPACK_IMPORTED_MODULE_1__.default({\r\n                type: 'submit',\r\n                className: 'default-button',\r\n                text: 'Изменить пароль'\r\n            });\r\n            this.sidebar = new _components_sidebar_index__WEBPACK_IMPORTED_MODULE_0__.default({ href: '/profile' });\r\n            this.props = Object.assign(Object.assign({}, this.props), {\r\n                components: {\r\n                    sidebar: this.sidebar.render(),\r\n                    saveButton: this.savePersonalDataButton.render(),\r\n                    savePassButton: this.savePasswordButton.render()\r\n                }, name: res.response.first_name, profile_img: '', details: [\r\n                    {\r\n                        name: 'Имя',\r\n                        input: {\r\n                            name: 'first_name',\r\n                            type: 'text',\r\n                            placeholder: 'Имя',\r\n                        }\r\n                    },\r\n                    {\r\n                        name: 'Фамилия',\r\n                        input: {\r\n                            name: 'second_name',\r\n                            type: 'text',\r\n                            placeholder: 'Фамилия',\r\n                        }\r\n                    },\r\n                    {\r\n                        name: 'Имя в приложении',\r\n                        input: {\r\n                            name: 'display_name',\r\n                            type: 'text',\r\n                            placeholder: 'Имя в приложении',\r\n                        }\r\n                    },\r\n                    {\r\n                        name: 'Почта',\r\n                        input: {\r\n                            name: 'email',\r\n                            type: 'email',\r\n                            placeholder: 'Почта',\r\n                        }\r\n                    },\r\n                    {\r\n                        name: 'Логин',\r\n                        input: {\r\n                            name: 'login',\r\n                            type: 'text',\r\n                            placeholder: 'Логин',\r\n                        }\r\n                    },\r\n                    {\r\n                        name: 'Номер телефона',\r\n                        input: {\r\n                            name: 'phone',\r\n                            type: 'tel',\r\n                            placeholder: 'Номер телефона',\r\n                        }\r\n                    },\r\n                ], passwordData: [\r\n                    {\r\n                        name: 'Новый пароль',\r\n                        input: {\r\n                            name: 'newPassword',\r\n                            type: 'password',\r\n                            placeholder: 'Введите',\r\n                        }\r\n                    },\r\n                    {\r\n                        name: 'Старый пароль',\r\n                        input: {\r\n                            name: 'oldPassword',\r\n                            type: 'password',\r\n                            placeholder: 'Введите',\r\n                        }\r\n                    },\r\n                ]\r\n            });\r\n            try {\r\n                this.rootElement.removeChild(ProfileEditPage.profilePageElement);\r\n            }\r\n            catch (e) {\r\n                console.log('not deleted');\r\n            }\r\n            ProfileEditPage.profilePageElement = this._render();\r\n            this.rootElement.appendChild(ProfileEditPage.profilePageElement);\r\n            ProfileEditPage.profilePageElement.style.display = 'none';\r\n            if (router._currentRoute._pathname === '/profile-edit') {\r\n                ProfileEditPage.profilePageElement.style.display = 'block';\r\n            }\r\n            const inputs = {\r\n                login: {\r\n                    required: true,\r\n                },\r\n                first_name: {\r\n                    required: true,\r\n                },\r\n                second_name: {\r\n                    required: true,\r\n                },\r\n                email: {\r\n                    required: true,\r\n                    email: true,\r\n                },\r\n                newPassword: {\r\n                    required: true,\r\n                    minLength: 6,\r\n                },\r\n                oldPassword: {\r\n                    required: true,\r\n                    minLength: 6\r\n                },\r\n                phone: {\r\n                    required: true,\r\n                    minLength: 10,\r\n                },\r\n                display_name: {\r\n                    required: true,\r\n                }\r\n            };\r\n            _src_module_Validation__WEBPACK_IMPORTED_MODULE_3__.default.validate(inputs);\r\n            let forms = document.querySelectorAll('form');\r\n            Array.from(forms).forEach(form => {\r\n                form.addEventListener('submit', (e) => {\r\n                    let isValidData = (0,_src_module_form_handler__WEBPACK_IMPORTED_MODULE_4__.default)(e);\r\n                    if (isValidData) {\r\n                        let object = {};\r\n                        isValidData.forEach(function (value, key) {\r\n                            object[key] = value;\r\n                        });\r\n                        const json = JSON.stringify(object);\r\n                        _api_user_api__WEBPACK_IMPORTED_MODULE_6__.default.changeUserProfile(json)\r\n                            .then(res => {\r\n                            if (res.status === 200) {\r\n                                _vendor_state_index__WEBPACK_IMPORTED_MODULE_7__.default.set('auth', res.response);\r\n                                _vendor_state_index__WEBPACK_IMPORTED_MODULE_7__.default.set('users', res.response);\r\n                                router.go('/profile');\r\n                            }\r\n                        })\r\n                            .catch(err => {\r\n                            console.log(err);\r\n                        });\r\n                    }\r\n                });\r\n            });\r\n        })\r\n            .catch(err => {\r\n            console.log(err);\r\n        });\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new ProfileEditPage());\r\n\n\n//# sourceURL=webpack://y-messenger/./static/src/pages/profile-edit/index.ts?");

/***/ }),

/***/ "./static/src/pages/profile-edit/template.ts":
/*!***************************************************!*\
  !*** ./static/src/pages/profile-edit/template.ts ***!
  \***************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\nlet pageTemplate = `\r\n        <div class=\"page-center\">\r\n        {{{ components.sidebar }}}\r\n    <main class=\"personal-account-wrapper\">\r\n        <div class=\"personal-image\">\r\n            <label class=\"personal-image-label\">\r\n                <input type=\"file\" name=\"avatar\">\r\n                {{#profile_img}}\r\n                    <img src=\"{{profile_img}}\" alt=\"Арина\">\r\n                {{/profile_img}}\r\n            </label>\r\n\r\n        </div>\r\n        <h1 class=\"inner-profile-name\">\r\n            {{name}}\r\n        </h1>\r\n        <form>\r\n            <div class=\"personal-data\">\r\n                <table>\r\n                 {{#details}}\r\n                    <tr>\r\n                        <td>\r\n                            <span>\r\n                                {{name}}\r\n                            </span>\r\n                        </td>\r\n                        <td>\r\n                            <label>\r\n                                <input name=\"{{input.name}}\" type=\"{{input.type}}\" class=\"personal-form-control\"\r\n                                               placeholder=\"{{input.placeholder}}\">\r\n                                               <span class=\"input-error\"></span>\r\n                             </label>\r\n                        </td>\r\n                    </tr>\r\n                 {{/details}}\r\n                </table>\r\n            </div>\r\n\r\n            <div class=\"personal-data-submittion-block\">\r\n               {{{components.saveButton}}}\r\n            </div>\r\n        </form>\r\n        <form>\r\n            <div class=\"personal-data\">\r\n                    <table>\r\n                        {{#passwordData}}\r\n                        <tr>\r\n                            <td>\r\n                                <span>\r\n                                    {{name}}\r\n                                </span>\r\n                            </td>\r\n                            <td>\r\n                                <label>\r\n                                    <input name=\"{{input.name}}\" type=\"{{input.type}}\" class=\"personal-form-control\"\r\n                                                   placeholder=\"{{input.placeholder}}\">\r\n                                     <span class=\"input-error\"></span>\r\n                                 </label>\r\n                            </td>\r\n                        </tr>\r\n                     {{/passwordData}}\r\n                    </table>\r\n                </div>\r\n                <div class=\"personal-data-submittion-block\">\r\n                   {{{components.savePassButton}}}\r\n\r\n                </div>\r\n        </form>\r\n    </main>\r\n</div>\r\n    `;\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (pageTemplate);\r\n\r\n\n\n//# sourceURL=webpack://y-messenger/./static/src/pages/profile-edit/template.ts?");

/***/ }),

/***/ "./static/src/pages/profile/index.ts":
/*!*******************************************!*\
  !*** ./static/src/pages/profile/index.ts ***!
  \*******************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _vendor_state_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../vendor/state/index */ \"./static/src/vendor/state/index.ts\");\n/* harmony import */ var _components_sidebar_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../components/sidebar/index */ \"./static/src/components/sidebar/index.ts\");\n/* harmony import */ var _template__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./template */ \"./static/src/pages/profile/template.ts\");\n/* harmony import */ var _vendor_block_index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../vendor/block/index */ \"./static/src/vendor/block/index.ts\");\n/* harmony import */ var _vendor_router_index__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../vendor/router/index */ \"./static/src/vendor/router/index.ts\");\n/* harmony import */ var _src_api_auth_api__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../src/api/auth-api */ \"./static/src/api/auth-api.ts\");\n;\r\n\r\n\r\n\r\n\r\n\r\nconst router = new _vendor_router_index__WEBPACK_IMPORTED_MODULE_4__.default('.app');\r\nfunction signOut() {\r\n    _src_api_auth_api__WEBPACK_IMPORTED_MODULE_5__.default.logOut()\r\n        .then(() => {\r\n        _vendor_state_index__WEBPACK_IMPORTED_MODULE_0__.default.clearAll();\r\n        router.go('/');\r\n    })\r\n        .catch(err => console.log(err));\r\n}\r\nclass ProfilePage extends _vendor_block_index__WEBPACK_IMPORTED_MODULE_3__.default {\r\n    constructor() {\r\n        super('div');\r\n        this.rootElement = document.querySelector('.app');\r\n        if (this.rootElement === null) {\r\n            throw new Error('Корневого элемента не существует');\r\n        }\r\n        this.profilePageElement = document.createElement('div');\r\n        this.registerEvents();\r\n    }\r\n    registerEvents() {\r\n        this.eventBus.on(_vendor_block_index__WEBPACK_IMPORTED_MODULE_3__.default.EVENTS.FLOW_CDU, this.renderTo.bind(this));\r\n    }\r\n    hide() {\r\n        try {\r\n            ProfilePage.profilePageElement.remove();\r\n        }\r\n        catch (e) {\r\n            void e;\r\n        }\r\n    }\r\n    show() {\r\n        try {\r\n            this.renderTo();\r\n        }\r\n        catch (e) {\r\n            void e;\r\n        }\r\n    }\r\n    _fetchData() {\r\n        return new Promise((resolve, reject) => {\r\n            if (_vendor_state_index__WEBPACK_IMPORTED_MODULE_0__.default.auth.hasOwnProperty('id')) {\r\n                resolve(_vendor_state_index__WEBPACK_IMPORTED_MODULE_0__.default.auth);\r\n            }\r\n            else {\r\n                reject('error');\r\n            }\r\n        });\r\n    }\r\n    render() {\r\n        return Mustache.render(_template__WEBPACK_IMPORTED_MODULE_2__.default, this.props);\r\n    }\r\n    renderTo() {\r\n        this._fetchData()\r\n            .then(res => {\r\n            this.sidebar = new _components_sidebar_index__WEBPACK_IMPORTED_MODULE_1__.default({ href: '/no-chat' });\r\n            this.props = Object.assign(Object.assign({}, this.props), {\r\n                components: {\r\n                    sidebar: this.sidebar.render(),\r\n                },\r\n                name: res.first_name,\r\n                profile_img: res.avatar,\r\n                details: [\r\n                    {\r\n                        name: 'Почта',\r\n                        value: res.email\r\n                    },\r\n                    {\r\n                        name: 'Логин',\r\n                        value: res.login\r\n                    }\r\n                ]\r\n            });\r\n            try {\r\n                this.rootElement.removeChild(ProfilePage.profilePageElement);\r\n            }\r\n            catch (e) {\r\n                console.log('not deleter');\r\n            }\r\n            ProfilePage.profilePageElement = this._render();\r\n            this.rootElement.appendChild(ProfilePage.profilePageElement);\r\n            ProfilePage.profilePageElement.style.display = 'none';\r\n            if (router._currentRoute._pathname === '/profile') {\r\n                ProfilePage.profilePageElement.style.display = 'block';\r\n            }\r\n            let signOutButton = document.querySelector('.js-sign-out');\r\n            if (signOutButton !== null) {\r\n                signOutButton.addEventListener('click', signOut.bind(this));\r\n            }\r\n        })\r\n            .catch(err => {\r\n            console.log(err);\r\n            router.go('/');\r\n        });\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new ProfilePage());\r\n\n\n//# sourceURL=webpack://y-messenger/./static/src/pages/profile/index.ts?");

/***/ }),

/***/ "./static/src/pages/profile/template.ts":
/*!**********************************************!*\
  !*** ./static/src/pages/profile/template.ts ***!
  \**********************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\nlet pageTemplate = `\r\n        <div class=\"page-center\">\r\n        {{{ components.sidebar }}}\r\n    <main class=\"personal-account-wrapper\">\r\n        <div class=\"personal-image\">\r\n            <label class=\"personal-image-label\">\r\n                <input type=\"file\" name=\"avatar\">\r\n                {{#profile_img}}\r\n                    <img src=\"{{profile_img}}\" alt=\"Арина\">\r\n                {{/profile_img}}\r\n            </label>\r\n\r\n        </div>\r\n        <h1 class=\"inner-profile-name\">\r\n            {{name}}\r\n        </h1>\r\n        <div class=\"personal-data\">\r\n            <table>\r\n             {{#details}}\r\n                <tr>\r\n                    <td>\r\n                        <span>\r\n                            {{name}}\r\n                        </span>\r\n                    </td>\r\n                    <td>\r\n                        <p>\r\n                            {{value}}\r\n                        </p>\r\n                    </td>\r\n                </tr>\r\n             {{/details}}\r\n            </table>\r\n        </div>\r\n        <div class=\"personal-data personal-data-change\">\r\n            <div class=\"personal-data-links\">\r\n                <a href=\"/profile-edit\" class=\"default-link\">\r\n                    Изменить данные\r\n                </a>\r\n\r\n                <div class=\"default-link red-colored js-sign-out\">\r\n                    Выйти\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </main>\r\n</div>\r\n    `;\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (pageTemplate);\r\n\r\n\n\n//# sourceURL=webpack://y-messenger/./static/src/pages/profile/template.ts?");

/***/ }),

/***/ "./static/src/vendor/block/index.ts":
/*!******************************************!*\
  !*** ./static/src/vendor/block/index.ts ***!
  \******************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _eventbus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../eventbus */ \"./static/src/vendor/eventbus/index.ts\");\n;\r\nclass Block {\r\n    /** JSDoc\r\n     * @param {string} tagName\r\n     * @param {Object} props\r\n     *\r\n     * @returns {void}\r\n     */\r\n    constructor(tagName = \"div\", props = {}) {\r\n        this.setProps = (nextProps) => {\r\n            if (!nextProps) {\r\n                return;\r\n            }\r\n            Object.assign(this.props, nextProps);\r\n        };\r\n        const eventBus = new _eventbus__WEBPACK_IMPORTED_MODULE_0__.default();\r\n        this._meta = {\r\n            tagName,\r\n            props\r\n        };\r\n        this.props = this._makePropsProxy(props);\r\n        this.eventBus = eventBus;\r\n        this._registerEvents(eventBus);\r\n        eventBus.emit(Block.EVENTS.INIT);\r\n    }\r\n    _registerEvents(eventBus) {\r\n        eventBus.on(Block.EVENTS.INIT, this.init.bind(this));\r\n        eventBus.on(Block.EVENTS.FLOW_CDM, this._componentDidMount.bind(this));\r\n        eventBus.on(Block.EVENTS.FLOW_RENDER, this._render.bind(this));\r\n        eventBus.on(Block.EVENTS.FLOW_CDU, this._componentDidUpdate.bind(this));\r\n    }\r\n    _createResources() {\r\n        const { tagName } = this._meta;\r\n        this._element = this._createDocumentElement(tagName);\r\n    }\r\n    init() {\r\n        this._createResources();\r\n        this.eventBus.emit(Block.EVENTS.FLOW_CDM);\r\n    }\r\n    _componentDidMount() {\r\n        this.componentDidMount(this.props);\r\n        this._render();\r\n    }\r\n    // Может переопределять пользователь, необязательно трогать\r\n    componentDidMount(oldProps) {\r\n        return oldProps;\r\n    }\r\n    _componentDidUpdate(oldProps, newProps) {\r\n        const response = this.componentDidUpdate(oldProps, newProps);\r\n        void response;\r\n        this._render();\r\n    }\r\n    // Может переопределять пользователь, необязательно трогать\r\n    componentDidUpdate(oldProps, newProps) {\r\n        return [oldProps, newProps];\r\n    }\r\n    get element() {\r\n        return this._element;\r\n    }\r\n    _render() {\r\n        const block = this.render();\r\n        let divElement = document.createElement('div');\r\n        this._element.innerHTML = '';\r\n        divElement.innerHTML = block;\r\n        this._element.appendChild(divElement);\r\n        return this._element;\r\n    }\r\n    renderTo(root) {\r\n        void root;\r\n    }\r\n    // Может переопределять пользователь, необязательно трогать\r\n    render() {\r\n        return '123';\r\n    }\r\n    getContent() {\r\n        return this.element;\r\n    }\r\n    _makePropsProxy(props) {\r\n        // Можно и так передать this\r\n        // Такой способ больше не применяется с приходом ES6+\r\n        const self = this;\r\n        props = new Proxy(props, {\r\n            get(target, prop) {\r\n                return target[prop];\r\n            },\r\n            set(target, prop, newValue) {\r\n                target[prop] = newValue;\r\n                self.eventBus.emit(Block.EVENTS.FLOW_CDU);\r\n                return true;\r\n            },\r\n            deleteProperty(target, prop) {\r\n                void target;\r\n                void prop;\r\n                throw new Error('нет доступа');\r\n            }\r\n        });\r\n        return props;\r\n    }\r\n    _createDocumentElement(tagName) {\r\n        // Можно сделать метод, который через фрагменты в цикле создаёт сразу несколько блоков\r\n        return document.createElement(tagName);\r\n    }\r\n    show() {\r\n        this.element.style.display = 'block';\r\n    }\r\n    hide() {\r\n        this.element.style.display = 'none';\r\n    }\r\n}\r\nBlock.EVENTS = {\r\n    INIT: \"init\",\r\n    FLOW_CDM: \"flow:component-did-mount\",\r\n    FLOW_RENDER: \"flow:render\",\r\n    FLOW_CDU: \"flow:component-did-update\",\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Block);\r\n\n\n//# sourceURL=webpack://y-messenger/./static/src/vendor/block/index.ts?");

/***/ }),

/***/ "./static/src/vendor/eventbus/index.ts":
/*!*********************************************!*\
  !*** ./static/src/vendor/eventbus/index.ts ***!
  \*********************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\nclass EventBus {\r\n    constructor() {\r\n        this.listeners = {};\r\n    }\r\n    on(event, callback) {\r\n        if (this.listeners[event] === undefined) {\r\n            this.listeners[event] = [callback];\r\n            return;\r\n        }\r\n        this.listeners[event].push(callback);\r\n    }\r\n    off(event, callback) {\r\n        this._checkEventForExisence(event);\r\n        if (this.listeners[event] !== undefined) {\r\n            this.listeners[event] = this.listeners[event].filter((ecallback) => ecallback !== callback);\r\n        }\r\n    }\r\n    emit(event, ...args) {\r\n        this._checkEventForExisence(event);\r\n        this.listeners[event].forEach((callback) => {\r\n            let callbackFunction = callback.bind(null, ...args);\r\n            callbackFunction();\r\n        });\r\n    }\r\n    _checkEventForExisence(event) {\r\n        if (this.listeners[event] == undefined) {\r\n            throw new Error(`Нет события ${event}`);\r\n        }\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EventBus);\r\n\n\n//# sourceURL=webpack://y-messenger/./static/src/vendor/eventbus/index.ts?");

/***/ }),

/***/ "./static/src/vendor/route/index.ts":
/*!******************************************!*\
  !*** ./static/src/vendor/route/index.ts ***!
  \******************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\nfunction isEqual(lhs, rhs) {\r\n    return lhs === rhs;\r\n}\r\nclass Route {\r\n    constructor(pathname, view, props) {\r\n        this._pathname = pathname;\r\n        this._block = view;\r\n        this._props = props;\r\n        this._isRendered = false;\r\n        this.__root = document.querySelector(this._props.rootQuery);\r\n        if (this.__root === null) {\r\n            throw new Error('Кореневая директория не найдена');\r\n        }\r\n    }\r\n    navigate(pathname) {\r\n        if (this.match(pathname)) {\r\n            this._pathname = pathname;\r\n            this.render();\r\n        }\r\n    }\r\n    leave() {\r\n        if (this._block) {\r\n            this._block.hide();\r\n        }\r\n    }\r\n    match(pathname) {\r\n        return isEqual(pathname, this._pathname);\r\n    }\r\n    render() {\r\n        if (!this._isRendered) {\r\n            if (this.__root !== null) {\r\n                this._block.renderTo(this.__root);\r\n                this._block.show();\r\n            }\r\n            return;\r\n        }\r\n        this._block.show();\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Route);\r\n\n\n//# sourceURL=webpack://y-messenger/./static/src/vendor/route/index.ts?");

/***/ }),

/***/ "./static/src/vendor/router/index.ts":
/*!*******************************************!*\
  !*** ./static/src/vendor/router/index.ts ***!
  \*******************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _route__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../route */ \"./static/src/vendor/route/index.ts\");\n;\r\nclass Router {\r\n    constructor(rootQuery) {\r\n        if (Router.__instance) {\r\n            return Router.__instance;\r\n        }\r\n        this.routes = [];\r\n        this.history = window.history;\r\n        this._currentRoute = null;\r\n        this._rootQuery = rootQuery;\r\n        Router.__instance = this;\r\n    }\r\n    use(pathname, block) {\r\n        const route = new _route__WEBPACK_IMPORTED_MODULE_0__.default(pathname, block, { rootQuery: this._rootQuery });\r\n        this.routes.push(route);\r\n        return this;\r\n    }\r\n    start() {\r\n        window.onpopstate = ((event) => {\r\n            let currentTarget = event.currentTarget;\r\n            if (currentTarget.location !== null) {\r\n                let location = currentTarget.location.pathname;\r\n                this._onRoute(location);\r\n            }\r\n        });\r\n        if (document.location !== null) {\r\n            this._onRoute(document.location.pathname);\r\n        }\r\n    }\r\n    _onRoute(pathname) {\r\n        const route = this.getRoute(pathname);\r\n        if (this._currentRoute && this._currentRoute._pathname !== pathname) {\r\n            this._currentRoute.leave();\r\n        }\r\n        if (route === undefined) {\r\n            this._currentRoute = this.routes[0];\r\n            this.go('/404');\r\n            return;\r\n        }\r\n        this._currentRoute = route;\r\n        route.render();\r\n    }\r\n    go(pathname) {\r\n        if (this._currentRoute !== null) {\r\n            this.history.pushState(this._currentRoute._pathname, pathname, pathname);\r\n            this._onRoute(pathname);\r\n        }\r\n    }\r\n    back() {\r\n        this.history.back();\r\n    }\r\n    forward() {\r\n        this.history.forward();\r\n    }\r\n    getRoute(pathname) {\r\n        return this.routes.find(route => route.match(pathname));\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Router);\r\n\n\n//# sourceURL=webpack://y-messenger/./static/src/vendor/router/index.ts?");

/***/ }),

/***/ "./static/src/vendor/state/index.ts":
/*!******************************************!*\
  !*** ./static/src/vendor/state/index.ts ***!
  \******************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _pages_profile__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../pages/profile */ \"./static/src/pages/profile/index.ts\");\n/* harmony import */ var _pages_open_chat__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../pages/open-chat */ \"./static/src/pages/open-chat/index.ts\");\n/* harmony import */ var _pages_no_chat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../pages/no-chat */ \"./static/src/pages/no-chat/index.ts\");\n/* harmony import */ var _pages_profile_edit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../pages/profile-edit */ \"./static/src/pages/profile-edit/index.ts\");\n;\r\n\r\n\r\n\r\nclass State {\r\n    constructor() {\r\n        if (State.__instance) {\r\n            return State.__instance;\r\n        }\r\n        this.chats = {};\r\n        this.auth = {};\r\n        this.users = {};\r\n        this.activeChat = {};\r\n        this._generateProxies();\r\n        State.__instance = this;\r\n    }\r\n    _clearAllProxies() {\r\n        this.chats = {};\r\n        this.users = {};\r\n        this.auth = {};\r\n        this.activeChat = {};\r\n    }\r\n    _generateProxies() {\r\n        this.chats = new Proxy(this.chats, {\r\n            get(target, prop) {\r\n                return target[prop];\r\n            },\r\n            set(target, prop, newValue) {\r\n                target[prop] = newValue;\r\n                _pages_open_chat__WEBPACK_IMPORTED_MODULE_1__.default.eventBus.emit('flow:component-did-update');\r\n                _pages_no_chat__WEBPACK_IMPORTED_MODULE_2__.default.eventBus.emit('flow:component-did-update');\r\n                return true;\r\n            },\r\n            deleteProperty(target, prop) {\r\n                void target;\r\n                void prop;\r\n                throw new Error('нет доступа');\r\n            }\r\n        });\r\n        this.auth = new Proxy(this.auth, {\r\n            get(target, prop) {\r\n                return target[prop];\r\n            },\r\n            set(target, prop, newValue) {\r\n                target[prop] = newValue;\r\n                _pages_profile__WEBPACK_IMPORTED_MODULE_0__.default.eventBus.emit('flow:component-did-update');\r\n                _pages_profile_edit__WEBPACK_IMPORTED_MODULE_3__.default.eventBus.emit('flow:component-did-update');\r\n                return true;\r\n            },\r\n            deleteProperty(target, prop) {\r\n                void target;\r\n                void prop;\r\n                throw new Error('нет доступа');\r\n            }\r\n        });\r\n        this.users = new Proxy(this.users, {\r\n            get(target, prop) {\r\n                return target[prop];\r\n            },\r\n            set(target, prop, newValue) {\r\n                console.log('set');\r\n                target[prop] = newValue;\r\n                _pages_profile__WEBPACK_IMPORTED_MODULE_0__.default.eventBus.emit('flow:component-did-update');\r\n                _pages_profile_edit__WEBPACK_IMPORTED_MODULE_3__.default.eventBus.emit('flow:component-did-update');\r\n                return true;\r\n            },\r\n            deleteProperty(target, prop) {\r\n                void target;\r\n                void prop;\r\n                throw new Error('нет доступа');\r\n            }\r\n        });\r\n        this.activeChat = new Proxy(this.activeChat, {\r\n            get(target, prop) {\r\n                return target[prop];\r\n            },\r\n            set(target, prop, newValue) {\r\n                target[prop] = newValue;\r\n                _pages_open_chat__WEBPACK_IMPORTED_MODULE_1__.default.eventBus.emit('flow:component-did-update');\r\n                return true;\r\n            },\r\n            deleteProperty(target, prop) {\r\n                void target;\r\n                void prop;\r\n                throw new Error('нет доступа');\r\n            }\r\n        });\r\n    }\r\n    checkForAuth() {\r\n        return this.auth.hasOwnProperty('id');\r\n    }\r\n    ;\r\n    set(name, object) {\r\n        Object.assign(this[name], object);\r\n    }\r\n    clearAll() {\r\n        this._clearAllProxies();\r\n        this._generateProxies();\r\n    }\r\n    get(name) {\r\n        return this[name];\r\n    }\r\n}\r\nlet store = new State();\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (store);\r\n\n\n//# sourceURL=webpack://y-messenger/./static/src/vendor/state/index.ts?");

/***/ }),

/***/ "./static/dist/api/auth-api.js":
/*!*************************************!*\
  !*** ./static/dist/api/auth-api.js ***!
  \*************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _baseApi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./baseApi */ \"./static/dist/api/baseApi.js\");\n/* harmony import */ var _httpTransport__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./httpTransport */ \"./static/dist/api/httpTransport.js\");\n;\r\n\r\nconst headers = {\r\n    \"Content-type\": \"application/json\"\r\n};\r\nclass AuthApiClass extends _baseApi__WEBPACK_IMPORTED_MODULE_0__.default {\r\n    static signIn(userData) {\r\n        return _httpTransport__WEBPACK_IMPORTED_MODULE_1__.AuthApi.post('/signin', { data: userData, headers: headers });\r\n    }\r\n    static singUp(userData) {\r\n        return _httpTransport__WEBPACK_IMPORTED_MODULE_1__.AuthApi.post('/signup', { data: userData, headers: headers });\r\n    }\r\n    static request() {\r\n        return _httpTransport__WEBPACK_IMPORTED_MODULE_1__.AuthApi.get('/user');\r\n    }\r\n    static logOut() {\r\n        return _httpTransport__WEBPACK_IMPORTED_MODULE_1__.AuthApi.post('/logout', { headers: headers });\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AuthApiClass);\r\n//# sourceMappingURL=auth-api.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/api/auth-api.js?");

/***/ }),

/***/ "./static/dist/api/baseApi.js":
/*!************************************!*\
  !*** ./static/dist/api/baseApi.js ***!
  \************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\nclass BaseAPI {\r\n    create() { }\r\n    request() { }\r\n    update() { }\r\n    delete() { }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BaseAPI);\r\n//# sourceMappingURL=baseApi.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/api/baseApi.js?");

/***/ }),

/***/ "./static/dist/api/baseUrl.js":
/*!************************************!*\
  !*** ./static/dist/api/baseUrl.js ***!
  \************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\nconst baseurl = 'https://ya-praktikum.tech/api/v2';\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (baseurl);\r\n//# sourceMappingURL=baseUrl.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/api/baseUrl.js?");

/***/ }),

/***/ "./static/dist/api/chats-api.js":
/*!**************************************!*\
  !*** ./static/dist/api/chats-api.js ***!
  \**************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _baseApi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./baseApi */ \"./static/dist/api/baseApi.js\");\n/* harmony import */ var _httpTransport__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./httpTransport */ \"./static/dist/api/httpTransport.js\");\n;\r\n\r\nconst headers = {\r\n    \"Content-type\": \"application/json\"\r\n};\r\nclass chatsApiHandler extends _baseApi__WEBPACK_IMPORTED_MODULE_0__.default {\r\n    static getAllChats() {\r\n        return _httpTransport__WEBPACK_IMPORTED_MODULE_1__.ChatsApi.get('/');\r\n    }\r\n    static createChat(data) {\r\n        return _httpTransport__WEBPACK_IMPORTED_MODULE_1__.ChatsApi.post('/', { data, headers: headers });\r\n    }\r\n    static deleteChat(data) {\r\n        return _httpTransport__WEBPACK_IMPORTED_MODULE_1__.ChatsApi.delete('', { data, headers: headers });\r\n    }\r\n    static addUserToChat(data) {\r\n        return _httpTransport__WEBPACK_IMPORTED_MODULE_1__.ChatsApi.put('/users', { data, headers: headers });\r\n    }\r\n    static getChatUsers(id) {\r\n        return _httpTransport__WEBPACK_IMPORTED_MODULE_1__.ChatsApi.get(`/${id}/users`);\r\n    }\r\n    static deleteChatUser(data) {\r\n        return _httpTransport__WEBPACK_IMPORTED_MODULE_1__.ChatsApi.delete('/users', { data, headers: headers });\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (chatsApiHandler);\r\n//# sourceMappingURL=chats-api.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/api/chats-api.js?");

/***/ }),

/***/ "./static/dist/api/httpTransport.js":
/*!******************************************!*\
  !*** ./static/dist/api/httpTransport.js ***!
  \******************************************/
/*! namespace exports */
/*! export AuthApi [provided] [no usage info] [missing usage info prevents renaming] */
/*! export ChatsApi [provided] [no usage info] [missing usage info prevents renaming] */
/*! export UserApi [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AuthApi\": () => /* binding */ AuthApi,\n/* harmony export */   \"UserApi\": () => /* binding */ UserApi,\n/* harmony export */   \"ChatsApi\": () => /* binding */ ChatsApi\n/* harmony export */ });\n/* harmony import */ var _baseUrl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./baseUrl */ \"./static/dist/api/baseUrl.js\");\n;\r\nconst METHODS = {\r\n    GET: 'GET',\r\n    POST: \"POST\",\r\n    PUT: \"PUT\",\r\n    DELETE: \"DELETE\"\r\n};\r\nfunction queryStringify(data) {\r\n    return Object.entries(data).reduce((acc, res) => {\r\n        let keyName = res[0];\r\n        let keyValue = res[1];\r\n        return acc + `${keyName}=${keyValue.toString()}&`;\r\n    }, '?');\r\n}\r\nfunction convert(str) {\r\n    return str.replace(/&quot;/g, '\"')\r\n        .replace(/&gt;/g, '>')\r\n        .replace(/&lt;/g, '<')\r\n        .replace(/&amp;/g, '&');\r\n}\r\nclass HTTPTransport {\r\n    constructor(prefix) {\r\n        this.baseUrl = _baseUrl__WEBPACK_IMPORTED_MODULE_0__.default;\r\n        this.get = (url, options = {}) => {\r\n            return this.request(url, Object.assign(Object.assign({}, options), { method: METHODS.GET }), options.timeout);\r\n        };\r\n        this.post = (url, options) => {\r\n            return this.request(url, Object.assign(Object.assign({}, options), { method: METHODS.POST }), options.timeout);\r\n        };\r\n        this.put = (url, options) => {\r\n            return this.request(url, Object.assign(Object.assign({}, options), { method: METHODS.PUT }), options.timeout);\r\n        };\r\n        this.delete = (url, options) => {\r\n            return this.request(url, Object.assign(Object.assign({}, options), { method: METHODS.DELETE }), options.timeout);\r\n        };\r\n        // PUT, POST, DELETE\r\n        // options:\r\n        // headers — obj\r\n        // data — obj\r\n        this.request = (url, options, timeout = 5000) => {\r\n            let { headers, data, method } = options;\r\n            return new Promise((resolve, reject) => {\r\n                const xhr = new XMLHttpRequest();\r\n                if (method == METHODS.GET) {\r\n                    if (options.data !== undefined) {\r\n                        url += queryStringify(options.data);\r\n                        url = url.substr(0, url.length - 1);\r\n                    }\r\n                }\r\n                xhr.open(method, this.baseUrl + this.prefix + url);\r\n                if (headers) {\r\n                    Object.entries(headers).forEach(header => {\r\n                        let headerKey = header[0];\r\n                        let headerValue = header[1];\r\n                        xhr.setRequestHeader(headerKey, headerValue);\r\n                    });\r\n                }\r\n                xhr.withCredentials = true;\r\n                xhr.responseType = 'json';\r\n                xhr.onload = function () {\r\n                    resolve(xhr);\r\n                };\r\n                xhr.timeout = timeout;\r\n                xhr.onabort = reject;\r\n                xhr.onerror = reject;\r\n                xhr.ontimeout = reject;\r\n                if (data !== undefined) {\r\n                    data = convert(data);\r\n                }\r\n                if (method == METHODS.GET || !data) {\r\n                    xhr.send();\r\n                }\r\n                else {\r\n                    xhr.send(options.data);\r\n                }\r\n            });\r\n        };\r\n        this.prefix = prefix;\r\n    }\r\n}\r\nconst AuthApi = new HTTPTransport('/auth');\r\nconst UserApi = new HTTPTransport('/user');\r\nconst ChatsApi = new HTTPTransport('/chats');\r\n//# sourceMappingURL=httpTransport.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/api/httpTransport.js?");

/***/ }),

/***/ "./static/dist/api/user-api.js":
/*!*************************************!*\
  !*** ./static/dist/api/user-api.js ***!
  \*************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _baseApi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./baseApi */ \"./static/dist/api/baseApi.js\");\n/* harmony import */ var _httpTransport__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./httpTransport */ \"./static/dist/api/httpTransport.js\");\n\r\n\r\n\r\nconst headers = {\r\n    \"Content-type\": \"application/json\"\r\n};\r\nclass UserApiClass extends _baseApi__WEBPACK_IMPORTED_MODULE_0__.default {\r\n    static changeUserProfile(userData) {\r\n        return _httpTransport__WEBPACK_IMPORTED_MODULE_1__.UserApi.put('/profile', { data: userData, headers });\r\n    }\r\n    static changeUserAvatar(avatar) {\r\n        return _httpTransport__WEBPACK_IMPORTED_MODULE_1__.UserApi.put('/profile/avatar', { data: avatar, headers: headers });\r\n    }\r\n    static changeUserPassword(userData) {\r\n        return _httpTransport__WEBPACK_IMPORTED_MODULE_1__.UserApi.put('/password', { data: userData, headers: headers });\r\n    }\r\n    static getUserById(id) {\r\n        return _httpTransport__WEBPACK_IMPORTED_MODULE_1__.UserApi.get(`/${id}`);\r\n    }\r\n    static searchForUsers(userData) {\r\n        return _httpTransport__WEBPACK_IMPORTED_MODULE_1__.UserApi.post('/search', { data: userData, headers: headers });\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UserApiClass);\r\n//# sourceMappingURL=user-api.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/api/user-api.js?");

/***/ }),

/***/ "./static/dist/components/button/index.js":
/*!************************************************!*\
  !*** ./static/dist/components/button/index.js ***!
  \************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _vendor_block_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../vendor/block/index */ \"./static/dist/vendor/block/index.js\");\n/* harmony import */ var _template__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./template */ \"./static/dist/components/button/template.js\");\n;\r\n\r\nclass Button extends _vendor_block_index__WEBPACK_IMPORTED_MODULE_0__.default {\r\n    constructor(props) {\r\n        // Создаем враппер дом-элемент button\r\n        super(\"button\", props);\r\n    }\r\n    render() {\r\n        // В проект должен быть ваш собственный шаблонизатор\r\n        return Mustache.render(_template__WEBPACK_IMPORTED_MODULE_1__.default, this.props);\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Button);\r\n//# sourceMappingURL=index.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/components/button/index.js?");

/***/ }),

/***/ "./static/dist/components/button/template.js":
/*!***************************************************!*\
  !*** ./static/dist/components/button/template.js ***!
  \***************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\nlet template = \"\\n    <button type=\\\"{{type}}\\\" class=\\\"{{className}}\\\">\\n        {{text}}\\n    </button>\\n\";\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (template);\r\n//# sourceMappingURL=template.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/components/button/template.js?");

/***/ }),

/***/ "./static/dist/components/chat-sidebar/index.js":
/*!******************************************************!*\
  !*** ./static/dist/components/chat-sidebar/index.js ***!
  \******************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _vendor_block_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../vendor/block/index */ \"./static/dist/vendor/block/index.js\");\n/* harmony import */ var _template__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./template */ \"./static/dist/components/chat-sidebar/template.js\");\n;\r\n\r\nclass ChatSidebar extends _vendor_block_index__WEBPACK_IMPORTED_MODULE_0__.default {\r\n    constructor(props) {\r\n        // Создаем враппер дом-элемент button\r\n        super(\"div\", props);\r\n    }\r\n    render() {\r\n        // В проект должен быть ваш собственный шаблонизатор\r\n        return Mustache.render(_template__WEBPACK_IMPORTED_MODULE_1__.default, this.props);\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChatSidebar);\r\n//# sourceMappingURL=index.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/components/chat-sidebar/index.js?");

/***/ }),

/***/ "./static/dist/components/chat-sidebar/template.js":
/*!*********************************************************!*\
  !*** ./static/dist/components/chat-sidebar/template.js ***!
  \*********************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\nlet template = `\r\n    <aside class=\"sidebar-wrapper\">\r\n            <div class=\"sidebar-header\">\r\n                <form class=\"js-create-new-chat\">\r\n                    <input type=\"text\" name=\"title\">\r\n                    <button type=\"submit\">Создать новый чат</button>\r\n                </form>\r\n                <div class=\"profile-link-wrapper\">\r\n                    <a href=\"/profile\" class=\"profile-link\">\r\n                        Профиль\r\n                        <svg width=\"6\" height=\"10\">\r\n                            <use xlink:href=\"#chevron-left_icon\"></use>\r\n                        </svg>\r\n                    </a>\r\n                </div>\r\n                <div class=\"sidebar-header-search-form\">\r\n                    <form action=\"\">\r\n                        <label>\r\n                            <input type=\"text\" class=\"js-input-control\">\r\n                            <span class=\"d-flex search-form-placeholder-wrapper align-items-center justify-content-center\">\r\n                                    <svg width=\"20\" height=\"20\">\r\n                                        <use xlink:href=\"#search_icon\"></use>\r\n                                    </svg>\r\n                                    <span class=\"search-form-placeholder\">Поиск</span>\r\n                                </span>\r\n                        </label>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n            <ul class=\"sidebar-content\">\r\n                {{#chats}}\r\n                    <li class=\"sidebar-chat-wrap\">\r\n                    <a href=\"/open-chat\" data-chat-id=\"{{id}}\">\r\n                        <div class=\"d-flex sidebar-chat\">\r\n                        <div class=\"sidebar-chat-img\">\r\n                            <img src=\"{{profile_img}}\" alt=\"{{name}}\">\r\n                        </div>\r\n                        <div class=\"sidebar-chat-textbox\">\r\n                            <h2 class=\"sidebar-chat-sender\">\r\n                                {{title}}\r\n                            </h2>\r\n                            <span class=\"sidebar-chat-message\">\r\n                                    <b>Вы: </b> стикер\r\n                                </span>\r\n                        </div>\r\n                        <div class=\"sidebar-chat-additional-data\">\r\n                            <time class=\"sidebar-chat-time\">\r\n                                {{time}}\r\n                            </time>\r\n                            {{#unreadMessages}}\r\n                                <div class=\"sidebar-chat-new-messages\">\r\n                                    {{unreadMessages}}\r\n                                </div>\r\n                            {{/unreadMessages}}    \r\n                        </div>\r\n                    </div>\r\n                    </a>\r\n                </li>\r\n                 {{/chats}}\r\n                \r\n            </ul>\r\n        </aside>\r\n`;\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (template);\r\n//# sourceMappingURL=template.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/components/chat-sidebar/template.js?");

/***/ }),

/***/ "./static/dist/components/httpError/Index.js":
/*!***************************************************!*\
  !*** ./static/dist/components/httpError/Index.js ***!
  \***************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _vendor_Block_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../vendor/Block/index */ \"./static/dist/vendor/Block/index.js\");\n/* harmony import */ var _Template__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Template */ \"./static/dist/components/httpError/Template.js\");\n;\r\n\r\nclass httpError extends _vendor_Block_index__WEBPACK_IMPORTED_MODULE_0__.default {\r\n    constructor(props) {\r\n        // Создаем враппер дом-элемент button\r\n        super(\"div\", props);\r\n    }\r\n    render() {\r\n        // В проект должен быть ваш собственный шаблонизатор\r\n        return Mustache.render(_Template__WEBPACK_IMPORTED_MODULE_1__.default, this.props);\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (httpError);\r\n//# sourceMappingURL=Index.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/components/httpError/Index.js?");

/***/ }),

/***/ "./static/dist/components/httpError/Template.js":
/*!******************************************************!*\
  !*** ./static/dist/components/httpError/Template.js ***!
  \******************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\nlet template = `\r\n    <div class=\"page-center\">\r\n        <div class=\"error-text-block-wrapper text-center\">\r\n            <h1 class=\"error-title\">\r\n                {{code}}\r\n            </h1>\r\n            <h3 class=\"error-subtitle\">\r\n                {{message}}\r\n            </h3>\r\n\r\n            <a href=\"{{href}}\" class=\"default-link\">{{link_message}}</a>\r\n\r\n        </div>\r\n    </div>\r\n`;\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (template);\r\n//# sourceMappingURL=Template.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/components/httpError/Template.js?");

/***/ }),

/***/ "./static/dist/components/sidebar/index.js":
/*!*************************************************!*\
  !*** ./static/dist/components/sidebar/index.js ***!
  \*************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _vendor_block_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../vendor/block/index */ \"./static/dist/vendor/block/index.js\");\n/* harmony import */ var _template__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./template */ \"./static/dist/components/sidebar/template.js\");\n;\r\n\r\n// Импортировал js так как не мог нормально собрать проект, чтобы он сразу выдавал\r\n// мне валидный код с правильным расширением и ts пока не может\r\n// https://github.com/Microsoft/TypeScript/issues/13422 Очень жду спринта с вебпаком =)\r\nclass Sidebar extends _vendor_block_index__WEBPACK_IMPORTED_MODULE_0__.default {\r\n    constructor(props) {\r\n        // Создаем враппер дом-элемент button\r\n        super(\"aside\", props);\r\n    }\r\n    render() {\r\n        // В проект должен быть ваш собственный шаблонизатор\r\n        return Mustache.render(_template__WEBPACK_IMPORTED_MODULE_1__.default, this.props);\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Sidebar);\r\n//# sourceMappingURL=index.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/components/sidebar/index.js?");

/***/ }),

/***/ "./static/dist/components/sidebar/template.js":
/*!****************************************************!*\
  !*** ./static/dist/components/sidebar/template.js ***!
  \****************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\nlet template = `\r\n    <aside class=\"profile-sidebar sidebar-wrapper\">\r\n        <button type=\"submit\" class=\"submit-message get-back-button\">\r\n            <a href=\"{{href}}\">\r\n                <svg width=\"13\" height=\"12\">\r\n                    <use xlink:href=\"#arrow-right_icon\"></use>\r\n                </svg>\r\n            </a>\r\n        </button>\r\n    </aside>\r\n    \r\n`;\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (template);\r\n//# sourceMappingURL=template.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/components/sidebar/template.js?");

/***/ }),

/***/ "./static/dist/module/isAuth.js":
/*!**************************************!*\
  !*** ./static/dist/module/isAuth.js ***!
  \**************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _api_auth_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../api/auth-api */ \"./static/dist/api/auth-api.js\");\n/* harmony import */ var _vendor_state_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vendor/state/index */ \"./static/dist/vendor/state/index.js\");\n/* harmony import */ var _vendor_router_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../vendor/router/index */ \"./static/dist/vendor/router/index.js\");\n;\r\n\r\n\r\nlet router = new _vendor_router_index__WEBPACK_IMPORTED_MODULE_2__.default('.app');\r\nfunction checkForAuth(url) {\r\n    if (!_vendor_state_index__WEBPACK_IMPORTED_MODULE_1__.default.get('auth').id) {\r\n        _api_auth_api__WEBPACK_IMPORTED_MODULE_0__.default.request()\r\n            .then(function (res) {\r\n            if (res.status === 200) {\r\n                _vendor_state_index__WEBPACK_IMPORTED_MODULE_1__.default.set('auth', res.response);\r\n                if (_vendor_state_index__WEBPACK_IMPORTED_MODULE_1__.default.checkForAuth()) {\r\n                    router.go(url);\r\n                }\r\n                else {\r\n                    router.go('/');\r\n                }\r\n            }\r\n        })\r\n            .catch((err) => {\r\n            console.log(err);\r\n        });\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (checkForAuth);\r\n//# sourceMappingURL=isAuth.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/module/isAuth.js?");

/***/ }),

/***/ "./static/dist/module/modal.js":
/*!*************************************!*\
  !*** ./static/dist/module/modal.js ***!
  \*************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\nclass ModalTrigger {\r\n    constructor() {\r\n        document.addEventListener('click', this.activateModal.bind(this));\r\n        document.addEventListener('click', this.closeModal.bind(this));\r\n    }\r\n    activateModal(e) {\r\n        this.modalOverLay = document.querySelector('.modal-overlay');\r\n        let path = e.composedPath();\r\n        path.pop();\r\n        path.pop();\r\n        let button = Array.from(path).find(el => {\r\n            return el.matches('[data-modal-id]');\r\n        });\r\n        if (button) {\r\n            let modalId = button.getAttribute('data-modal-id');\r\n            let modal = document.querySelector(modalId);\r\n            this.modalOverLay.classList.add('active');\r\n            modal.classList.add('active');\r\n        }\r\n    }\r\n    closeModal(e) {\r\n        this.modalOverLay = document.querySelector('.modal-overlay');\r\n        let path = e.composedPath();\r\n        path.pop();\r\n        path.pop();\r\n        let button = Array.from(path).find(el => {\r\n            return el.matches('[data-js-modal-close]');\r\n        });\r\n        if (button) {\r\n            this.modalOverLay.classList.remove('active');\r\n            Array.from(this.modalOverLay.children).forEach((modal) => {\r\n                modal.classList.remove('active');\r\n            });\r\n        }\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ModalTrigger);\r\n//# sourceMappingURL=modal.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/module/modal.js?");

/***/ }),

/***/ "./static/dist/pages/404/index.js":
/*!****************************************!*\
  !*** ./static/dist/pages/404/index.js ***!
  \****************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _components_httpError_Index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../components/httpError/Index */ \"./static/dist/components/httpError/Index.js\");\n;\r\nclass notFoundError extends _components_httpError_Index__WEBPACK_IMPORTED_MODULE_0__.default {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    renderTo(rootElement) {\r\n        rootElement.appendChild(this._render());\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new notFoundError({ code: 404, message: 'Не туда попали', link_message: 'Назад к чатам', href: '/no-chat', }));\r\n//# sourceMappingURL=index.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/pages/404/index.js?");

/***/ }),

/***/ "./static/dist/pages/500/index.js":
/*!****************************************!*\
  !*** ./static/dist/pages/500/index.js ***!
  \****************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _components_httpError_Index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../components/httpError/Index */ \"./static/dist/components/httpError/Index.js\");\n;\r\nclass errorPage extends _components_httpError_Index__WEBPACK_IMPORTED_MODULE_0__.default {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    renderTo(rootElement) {\r\n        rootElement.appendChild(this._render());\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new errorPage({\r\n    code: 500,\r\n    message: 'Мы уже активно фиксим',\r\n    link_message: 'Назад к чатам',\r\n    href: '/no-chat',\r\n}));\r\n//# sourceMappingURL=index.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/pages/500/index.js?");

/***/ }),

/***/ "./static/dist/pages/no-chat/index.js":
/*!********************************************!*\
  !*** ./static/dist/pages/no-chat/index.js ***!
  \********************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _vendor_block_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../vendor/block/index */ \"./static/dist/vendor/block/index.js\");\n/* harmony import */ var _components_chat_sidebar_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../components/chat-sidebar/index */ \"./static/dist/components/chat-sidebar/index.js\");\n/* harmony import */ var _template__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./template */ \"./static/dist/pages/no-chat/template.js\");\n/* harmony import */ var _vendor_state_index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../vendor/state/index */ \"./static/dist/vendor/state/index.js\");\n/* harmony import */ var _api_chats_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../api/chats-api */ \"./static/dist/api/chats-api.js\");\n/* harmony import */ var _vendor_router_index__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../vendor/router/index */ \"./static/dist/vendor/router/index.js\");\n;\r\n\r\n\r\n\r\n\r\n\r\nlet router = new _vendor_router_index__WEBPACK_IMPORTED_MODULE_5__.default('.app');\r\nclass noChatPage extends _vendor_block_index__WEBPACK_IMPORTED_MODULE_0__.default {\r\n    constructor() {\r\n        super('div');\r\n        this.noChatPageElement = '';\r\n    }\r\n    updateHTMLContent() {\r\n        noChatPage.noChatPageElement.innerHTML = this._render().outerHTML;\r\n        this.addEventListeners();\r\n    }\r\n    _fetchData() {\r\n        return new Promise((resolve, reject) => {\r\n            if (_vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.get('chats').length) {\r\n                console.log(_vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.get('chats'));\r\n                resolve(_vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.chats);\r\n            }\r\n            else {\r\n                _api_chats_api__WEBPACK_IMPORTED_MODULE_4__.default.getAllChats()\r\n                    .then((res) => {\r\n                    _vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.set('chats', res.response);\r\n                    resolve(res.response);\r\n                })\r\n                    .catch(err => {\r\n                    reject(err);\r\n                });\r\n            }\r\n        });\r\n    }\r\n    render() {\r\n        return Mustache.render(_template__WEBPACK_IMPORTED_MODULE_2__.default, this.props);\r\n    }\r\n    updateSideBar(res) {\r\n        this.sidebar = new _components_chat_sidebar_index__WEBPACK_IMPORTED_MODULE_1__.default({\r\n            chats: res\r\n        });\r\n        this.props = Object.assign(Object.assign({}, this.props), {\r\n            components: {\r\n                sidebar: this.sidebar.render(),\r\n            }\r\n        });\r\n    }\r\n    renderTo(rootElement) {\r\n        this._fetchData()\r\n            .then((res) => {\r\n            this.updateSideBar(res);\r\n            noChatPage.noChatPageElement = this._render();\r\n            rootElement.appendChild(noChatPage.noChatPageElement);\r\n            this.addEventListeners();\r\n        });\r\n    }\r\n    addEventListeners() {\r\n        let createNewChatButton = document.querySelector('.js-create-new-chat');\r\n        createNewChatButton.addEventListener('submit', (e) => {\r\n            e.preventDefault();\r\n            let target = e.target;\r\n            if (target == null) {\r\n                return;\r\n            }\r\n            let targetInputTitle = target.title.value;\r\n            let data = JSON.stringify({ title: targetInputTitle });\r\n            _api_chats_api__WEBPACK_IMPORTED_MODULE_4__.default.createChat(data)\r\n                .then(res => {\r\n                if (res.status === 200) {\r\n                    _api_chats_api__WEBPACK_IMPORTED_MODULE_4__.default.getAllChats()\r\n                        .then((res) => {\r\n                        _vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.set('chats', res.response);\r\n                        this.updateSideBar(res.response);\r\n                        this.updateHTMLContent();\r\n                    })\r\n                        .catch(err => console.log(err));\r\n                }\r\n            })\r\n                .catch(err => console.log(err));\r\n        });\r\n        document.addEventListener('click', (e) => {\r\n            let path = e.composedPath();\r\n            path.pop();\r\n            path.pop();\r\n            let activaChat = Array.from(path).find(el => {\r\n                return el.matches('[data-chat-id]');\r\n            });\r\n            if (activaChat !== undefined) {\r\n                _vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.set('activeChat', { id: activaChat.getAttribute('data-chat-id') });\r\n                router.go('/open-chat');\r\n            }\r\n        });\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new noChatPage());\r\n//# sourceMappingURL=index.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/pages/no-chat/index.js?");

/***/ }),

/***/ "./static/dist/pages/no-chat/template.js":
/*!***********************************************!*\
  !*** ./static/dist/pages/no-chat/template.js ***!
  \***********************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\nlet template = `\r\n        <div class=\"page-wrapper\">\r\n    <div class=\"d-flex messenger-main-page\">\r\n        {{{components.sidebar}}}\r\n        <main class=\"chats-messages-wrapper\">\r\n            <div class=\"no-chat-message\">\r\n                Выберите чат чтобы отправить сообщение\r\n            </div>\r\n        </main>\r\n    </div>\r\n</div>\r\n    `;\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (template);\r\n//# sourceMappingURL=template.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/pages/no-chat/template.js?");

/***/ }),

/***/ "./static/dist/pages/open-chat/index.js":
/*!**********************************************!*\
  !*** ./static/dist/pages/open-chat/index.js ***!
  \**********************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _vendor_block_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../vendor/block/index */ \"./static/dist/vendor/block/index.js\");\n/* harmony import */ var _components_chat_sidebar_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../components/chat-sidebar/index */ \"./static/dist/components/chat-sidebar/index.js\");\n/* harmony import */ var _template__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./template */ \"./static/dist/pages/open-chat/template.js\");\n/* harmony import */ var _vendor_state_index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../vendor/state/index */ \"./static/dist/vendor/state/index.js\");\n/* harmony import */ var _vendor_router_index__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../vendor/router/index */ \"./static/dist/vendor/router/index.js\");\n/* harmony import */ var _api_chats_api__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../api/chats-api */ \"./static/dist/api/chats-api.js\");\n;\r\n\r\n\r\n\r\n\r\n\r\nlet router = new _vendor_router_index__WEBPACK_IMPORTED_MODULE_4__.default('.app');\r\nclass openChatPage extends _vendor_block_index__WEBPACK_IMPORTED_MODULE_0__.default {\r\n    constructor() {\r\n        super('div');\r\n        this.openChatPageElement = document.createElement('div');\r\n    }\r\n    updateHTMLContent() {\r\n        openChatPage.openChatPageElement.innerHTML = this._render().outerHTML;\r\n        this.addEventListeners();\r\n    }\r\n    checkForActiveChat() {\r\n        if (_vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.get('activeChat').id === null || !_vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.get('activeChat').id) {\r\n            router.go('/no-chat');\r\n        }\r\n    }\r\n    show() {\r\n        this.checkForActiveChat();\r\n        super.show();\r\n    }\r\n    _fetchData() {\r\n        let chatsPromise = new Promise((resolve, reject) => {\r\n            if (_vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.get('chats').length) {\r\n                resolve(_vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.chats);\r\n            }\r\n            else {\r\n                _api_chats_api__WEBPACK_IMPORTED_MODULE_5__.default.getAllChats()\r\n                    .then(res => {\r\n                    _vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.set('chats', res.response);\r\n                    resolve(res.response);\r\n                })\r\n                    .catch(err => {\r\n                    reject(err);\r\n                });\r\n            }\r\n        });\r\n        let chatPromise = new Promise((resolve, reject) => {\r\n            _api_chats_api__WEBPACK_IMPORTED_MODULE_5__.default.getChatUsers(_vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.get('activeChat').id)\r\n                .then(res => {\r\n                resolve(res.response);\r\n            })\r\n                .catch(err => reject(err));\r\n        });\r\n        return Promise.all([chatsPromise, chatPromise]);\r\n    }\r\n    render() {\r\n        return Mustache.render(_template__WEBPACK_IMPORTED_MODULE_2__.default, this.props);\r\n    }\r\n    getDataForChatUpdate() {\r\n        return new Promise((resolve, reject) => {\r\n            _api_chats_api__WEBPACK_IMPORTED_MODULE_5__.default.getChatUsers(_vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.get('activeChat').id)\r\n                .then(res => {\r\n                resolve(res.response);\r\n            })\r\n                .catch(err => reject(err));\r\n        });\r\n    }\r\n    updateChat() {\r\n        if (!_vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.get('activeChat').id) {\r\n            return;\r\n        }\r\n        this.getDataForChatUpdate()\r\n            .then(res => {\r\n            console.log(Array.from(_vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.get('chats')));\r\n            console.log(Array.from(_vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.get('chats')));\r\n            this.sidebar = new _components_chat_sidebar_index__WEBPACK_IMPORTED_MODULE_1__.default({\r\n                chats: _vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.get('chats'),\r\n            });\r\n            // this.MessagesBlock = new messages({\r\n            //\r\n            // });\r\n            this.props = Object.assign(Object.assign({}, this.props), {\r\n                components: {\r\n                    sidebar: this.sidebar.render(),\r\n                },\r\n                data: {\r\n                    chat: {\r\n                        name: 'Вадим',\r\n                        time: '10:49',\r\n                        last_time: '5',\r\n                        unreadMessages: 2,\r\n                        profile_img: 'assets/img/ava-sol-b4Ml2OidO6o-unsplash.jpg',\r\n                        is_last_message_your: true,\r\n                        lastMessage: 'стикер'\r\n                    },\r\n                    chatUsers: res\r\n                }\r\n            });\r\n            if (openChatPage.openChatPageElement !== undefined) {\r\n                openChatPage.openChatPageElement.innerHTML = this._render().innerHTML;\r\n                this.addEventListeners();\r\n            }\r\n        })\r\n            .catch(err => {\r\n            console.log(err);\r\n        });\r\n    }\r\n    renderTo(rootElement) {\r\n        this.checkForActiveChat();\r\n        this._fetchData()\r\n            .then(res => {\r\n            this.sidebar = new _components_chat_sidebar_index__WEBPACK_IMPORTED_MODULE_1__.default({\r\n                chats: res[0],\r\n            });\r\n            /* this.MessagesBlock = new messages({\r\n\r\n             });*/\r\n            this.props = Object.assign(Object.assign({}, this.props), {\r\n                components: {\r\n                    sidebar: this.sidebar.render(),\r\n                },\r\n                data: {\r\n                    chat: {\r\n                        name: 'Вадим',\r\n                        time: '10:49',\r\n                        last_time: '5',\r\n                        unreadMessages: 2,\r\n                        profile_img: 'assets/img/ava-sol-b4Ml2OidO6o-unsplash.jpg',\r\n                        is_last_message_your: true,\r\n                        lastMessage: 'стикер'\r\n                    },\r\n                    chatUsers: res[1]\r\n                }\r\n            });\r\n            openChatPage.openChatPageElement = this._render();\r\n            rootElement.appendChild(openChatPage.openChatPageElement);\r\n            this.addEventListeners();\r\n        });\r\n    }\r\n    addEventListeners() {\r\n        let createNewChatButton = document.querySelector('.js-create-new-chat');\r\n        createNewChatButton.addEventListener('submit', (e) => {\r\n            e.preventDefault();\r\n            let target = e.target;\r\n            let targetInputTitle = target.title;\r\n            let data = JSON.stringify({ title: targetInputTitle });\r\n            _api_chats_api__WEBPACK_IMPORTED_MODULE_5__.default.createChat(data)\r\n                .then(res => {\r\n                if (res.status === 200) {\r\n                    _api_chats_api__WEBPACK_IMPORTED_MODULE_5__.default.getAllChats()\r\n                        .then(res => {\r\n                        _vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.set('chats', res.response);\r\n                        this.props = Object.assign(Object.assign({}, this.props), { chats: res.response });\r\n                        this.updateHTMLContent();\r\n                    })\r\n                        .catch(err => console.log(err));\r\n                }\r\n            })\r\n                .catch(err => console.log(err));\r\n        });\r\n        document.addEventListener('click', (e) => {\r\n            let path = e.composedPath();\r\n            path.pop();\r\n            path.pop();\r\n            let activaChat = Array.from(path).find(el => {\r\n                return el.matches('[data-chat-id]');\r\n            });\r\n            if (activaChat !== undefined) {\r\n                e.stopImmediatePropagation();\r\n                e.stopPropagation();\r\n                _vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.set('activeChat', { id: activaChat.getAttribute('data-chat-id') });\r\n                router.go('/open-chat');\r\n                return false;\r\n            }\r\n            let deleteButton = Array.from(path).find(el => {\r\n                return el.matches('.js-delete-user');\r\n            });\r\n            if (deleteButton) {\r\n                let data = JSON.stringify({\r\n                    users: [deleteButton.getAttribute('data-id')],\r\n                    chatId: _vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.get('activeChat').id\r\n                });\r\n                _api_chats_api__WEBPACK_IMPORTED_MODULE_5__.default.deleteChatUser(data)\r\n                    .then(res => {\r\n                    console.log(res);\r\n                })\r\n                    .catch(err => console.log(err));\r\n            }\r\n        });\r\n        let addUserForm = document.querySelector('#add-user-form');\r\n        addUserForm.addEventListener('submit', (e) => {\r\n            e.preventDefault();\r\n            let userIdInput = e.target.user_id;\r\n            let data = JSON.stringify({\r\n                users: [userIdInput.value],\r\n                chatId: _vendor_state_index__WEBPACK_IMPORTED_MODULE_3__.default.get('activeChat').id\r\n            });\r\n            _api_chats_api__WEBPACK_IMPORTED_MODULE_5__.default.addUserToChat(data)\r\n                .then(res => {\r\n                if (res.status === 200) {\r\n                    let modalOverlay = document.querySelector('.modal-overlay');\r\n                    if (modalOverlay !== null) {\r\n                        modalOverlay.classList.remove('active');\r\n                    }\r\n                    this.updateChat();\r\n                }\r\n                else {\r\n                    alert('Упс, ошибка вышла, попробуйте ввести другой id');\r\n                }\r\n            })\r\n                .catch(err => console.log(err));\r\n        });\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new openChatPage());\r\n//# sourceMappingURL=index.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/pages/open-chat/index.js?");

/***/ }),

/***/ "./static/dist/pages/open-chat/template.js":
/*!*************************************************!*\
  !*** ./static/dist/pages/open-chat/template.js ***!
  \*************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\nlet pageTemplate = `\r\n        <div class=\"page-wrapper\">\r\n    <div class=\"d-flex messenger-main-page\">\r\n        {{{components.sidebar}}}\r\n         <main class=\"chats-messages-wrapper\">\r\n                <div class=\"chat-messages\">\r\n                    <header class=\"chat-messages-header\">\r\n                        <div class=\"chat-messages-person-info d-flex\">\r\n                            <div class=\"chat-messages-person-img\">\r\n                                <img src=\"{{chat.profile_img}}\" alt=\"{{chat.name}}\">\r\n                            </div>\r\n                            <div class=\"chat-messages-textbox\">\r\n                                <h1 class=\"sidebar-chat-sender\">\r\n                                    {{chat.name}}\r\n                                </h1>\r\n                                <div class=\"chat-messages-last-activity\">\r\n                                    Был {{chat.last_time}} минут назад\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <a class=\"chat-messages-drop\">\r\n                            <svg width=\"3\" height=\"16\">\r\n                                <use xlink:href=\"#menu_icon\"></use>\r\n                            </svg>\r\n                            <div class=\"chat-messages-drop-wrapper\">\r\n                                <ul>\r\n                                    <li>\r\n                                        <button type=\"button\" class=\"js-rename-chat chat-messages-drop-link\">\r\n                                            <svg width=\"22\" height=\"19\">\r\n                                                <use xlink:href=\"#edit_icon\"></use>\r\n                                            </svg>\r\n                                            <span>\r\n                                                Переименовать\r\n                                            </span>\r\n                                        </button>\r\n                                    </li>\r\n                                     <li>\r\n                                        <button type=\"button\" data-modal-id=\"#add-user\" class=\"js-modal-trigger js-remove-chat chat-messages-drop-link\">\r\n                                            <svg width=\"22\" height=\"22\">\r\n                                                <use xlink:href=\"#delete_icon\"></use>\r\n                                            </svg>\r\n                                            <span>\r\n                                                Добавить пользователя\r\n                                            </span>\r\n                                        </button>\r\n                                    </li>\r\n                                    <li>\r\n                                        <button type=\"button\" data-modal-id=\"#remove-chat\" class=\"js-modal-trigger js-remove-chat chat-messages-drop-link\">\r\n                                            <svg width=\"22\" height=\"22\">\r\n                                                <use xlink:href=\"#delete_icon\"></use>\r\n                                            </svg>\r\n                                            <span>\r\n                                                Удалить чат\r\n                                            </span>\r\n                                        </button>\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                        </a>\r\n                    </header>\r\n                    <div>\r\n                        <ul class=\"chat-users\">\r\n                            {{#data.chatUsers}}\r\n                                <li class=\"sidebar-chat-wrap\">\r\n                                        <div class=\"d-flex sidebar-chat\">\r\n                                            <div class=\"sidebar-chat-img\">\r\n                                                <img src=\"{{avatar}}\" alt=\"{{name}}\">\r\n                                            </div>\r\n                                            <div class=\"sidebar-chat-textbox\">\r\n                                                <h2 class=\"sidebar-chat-sender\">\r\n                                                    {{display_name}}\r\n                                                </h2>\r\n                                                <h3 >\r\n                                                {{role}}\r\n                                                </h3>\r\n                                            </div>\r\n                                        </div>\r\n                                        <button data-id=\"{{id}}\" type=\"button\" class=\"js-delete-user\">Удалить</button>\r\n                                </li>\r\n                             {{/data.chatUsers}}\r\n                        </ul>\r\n                    </div>\r\n                    <div class=\"chat-messages-body\">\r\n                        <div class=\"chat-messages-body-wrapper\">\r\n\r\n                            {{{components.messages}}}\r\n\r\n\r\n\r\n                        </div>\r\n                    </div>\r\n                    <footer class=\"chat-messages-footer\">\r\n                        <div class=\"text-submittion-wrapper\">\r\n                            <form>\r\n                                <div class=\"d-flex align-items-center\">\r\n                                    <div class=\"clip-wrapper\">\r\n                                        <button class=\"clip_icon_wrapper\">\r\n                                            <svg width=\"32\" height=\"32\">\r\n                                                <use xlink:href=\"#clip_icon\"></use>\r\n                                            </svg>\r\n                                        </button>\r\n                                        <div class=\"chat-messages-drop-wrapper\">\r\n                                            <ul>\r\n                                                <li>\r\n                                                    <button class=\"js-rename-chat chat-messages-drop-link\">\r\n                                                        <svg width=\"22\" height=\"22\">\r\n                                                            <use xlink:href=\"#photo_icon\"></use>\r\n                                                        </svg>\r\n                                                        <span>\r\n                                                Фото или Видео\r\n                                            </span>\r\n                                                    </button>\r\n                                                </li>\r\n                                                <li>\r\n                                                    <button class=\"js-remove-chat chat-messages-drop-link\">\r\n                                                        <svg width=\"22\" height=\"22\">\r\n                                                            <use xlink:href=\"#file_icon\"></use>\r\n                                                        </svg>\r\n                                                        <span>\r\n                                               Файл\r\n                                            </span>\r\n                                                    </button>\r\n                                                </li>\r\n                                                <li>\r\n                                                    <button class=\"js-remove-chat chat-messages-drop-link\">\r\n                                                        <svg width=\"22\" height=\"22\">\r\n                                                            <use xlink:href=\"#location_icon\"></use>\r\n                                                        </svg>\r\n                                                        <span>\r\n                                                Локация\r\n                                            </span>\r\n                                                    </button>\r\n                                                </li>\r\n                                            </ul>\r\n                                        </div>\r\n                                    </div>\r\n                                    <label class=\"message_field-label\">\r\n                                        <textarea class=\"message_field\" name=\"message\" placeholder=\"Сообщение\"></textarea>\r\n                                    </label>\r\n                                    <button type=\"submit\" class=\"submit-message\">\r\n                                        <svg width=\"13\" height=\"12\">\r\n                                            <use xlink:href=\"#arrow-right_icon\"></use>\r\n                                        </svg>\r\n                                    </button>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </footer>\r\n                </div>\r\n            </main>\r\n        </div>\r\n        <div class=\"modal-overlay\">\r\n            <div id=\"remove-chat\" class=\"modal-chat-delete modal\">\r\n                <div class=\"modal-title\">\r\n                    Вы хотите удалить чат\r\n                </div>\r\n                <div class=\"modal-buttons-row d-flex\">\r\n                    <button class=\"btn-danger default-button\">\r\n                        Удалить\r\n                    </button>\r\n                    <button data-js-modal-close type=\"button\" class=\"btn-gray default-button\">\r\n                        Отменить\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <div id=\"add-user\" class=\"modal-chat-delete modal\">\r\n               <form id=\"add-user-form\">\r\n                    <div class=\"modal-title\">\r\n                        Вы хотите добавить пользователя?\r\n                    </div>\r\n                    <div class=\"add-user-input-wrapper\">\r\n                        <input type=\"text\" name=\"user_id\" placeholder=\"Введите id пользователя\">\r\n                    </div>\r\n                    <div class=\"modal-buttons-row d-flex\">\r\n                        <button type=\"submit\" class=\"default-button\">\r\n                           Добавить\r\n                        </button>\r\n                        <button data-js-modal-close type=\"button\" class=\"btn-gray default-button\">\r\n                            Отменить\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n            \r\n        </div>\r\n</div>\r\n    `;\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (pageTemplate);\r\n//# sourceMappingURL=template.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/pages/open-chat/template.js?");

/***/ }),

/***/ "./static/dist/pages/profile-edit/index.js":
/*!*************************************************!*\
  !*** ./static/dist/pages/profile-edit/index.js ***!
  \*************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _components_sidebar_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../components/sidebar/index */ \"./static/dist/components/sidebar/index.js\");\n/* harmony import */ var _components_button_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../components/button/index */ \"./static/dist/components/button/index.js\");\n/* harmony import */ var _template__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./template */ \"./static/dist/pages/profile-edit/template.js\");\n/* harmony import */ var _src_module_Validation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../src/module/Validation */ \"./static/src/module/Validation.ts\");\n/* harmony import */ var _src_module_form_handler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../src/module/form_handler */ \"./static/src/module/form_handler.ts\");\n/* harmony import */ var _vendor_block_index__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../vendor/block/index */ \"./static/dist/vendor/block/index.js\");\n/* harmony import */ var _api_user_api__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../api/user-api */ \"./static/dist/api/user-api.js\");\n/* harmony import */ var _vendor_state_index__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../vendor/state/index */ \"./static/dist/vendor/state/index.js\");\n/* harmony import */ var _module_isAuth__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../module/isAuth */ \"./static/dist/module/isAuth.js\");\n/* harmony import */ var _vendor_router_index__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../vendor/router/index */ \"./static/dist/vendor/router/index.js\");\n;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet router = new _vendor_router_index__WEBPACK_IMPORTED_MODULE_9__.default('.app');\r\nclass ProfileEditPage extends _vendor_block_index__WEBPACK_IMPORTED_MODULE_5__.default {\r\n    constructor() {\r\n        super('div');\r\n        this.rootElement = document.querySelector('.app');\r\n        if (this.rootElement === null) {\r\n            throw new Error('Корневого элемента не существует');\r\n        }\r\n        this.profilePageElement = document.createElement('div');\r\n        this.registerEvents();\r\n    }\r\n    registerEvents() {\r\n        this.eventBus.on(_vendor_block_index__WEBPACK_IMPORTED_MODULE_5__.default.EVENTS.INIT, this.getData.bind(this));\r\n        this.eventBus.on(_vendor_block_index__WEBPACK_IMPORTED_MODULE_5__.default.EVENTS.FLOW_CDU, this.renderTo.bind(this));\r\n    }\r\n    getData() {\r\n        (0,_module_isAuth__WEBPACK_IMPORTED_MODULE_8__.default)('/profile-edit');\r\n    }\r\n    hide() {\r\n        try {\r\n            ProfileEditPage.profilePageElement.remove();\r\n        }\r\n        catch (e) {\r\n            void e;\r\n        }\r\n    }\r\n    show() {\r\n        try {\r\n            this.renderTo();\r\n        }\r\n        catch (e) {\r\n            void e;\r\n        }\r\n    }\r\n    _fetchData() {\r\n        return new Promise((resolve, reject) => {\r\n            (0,_module_isAuth__WEBPACK_IMPORTED_MODULE_8__.default)('/profile-edit');\r\n            _api_user_api__WEBPACK_IMPORTED_MODULE_6__.default.getUserById(_vendor_state_index__WEBPACK_IMPORTED_MODULE_7__.default.auth.id)\r\n                .then(res => resolve(res))\r\n                .catch(err => reject(err));\r\n        });\r\n    }\r\n    render() {\r\n        return Mustache.render(_template__WEBPACK_IMPORTED_MODULE_2__.default, this.props);\r\n    }\r\n    renderTo() {\r\n        this._fetchData()\r\n            .then(res => {\r\n            this.savePersonalDataButton = new _components_button_index__WEBPACK_IMPORTED_MODULE_1__.default({\r\n                type: 'submit',\r\n                className: 'default-button',\r\n                text: 'Сохранить'\r\n            });\r\n            this.savePasswordButton = new _components_button_index__WEBPACK_IMPORTED_MODULE_1__.default({\r\n                type: 'submit',\r\n                className: 'default-button',\r\n                text: 'Изменить пароль'\r\n            });\r\n            this.sidebar = new _components_sidebar_index__WEBPACK_IMPORTED_MODULE_0__.default({ href: '/profile' });\r\n            this.props = Object.assign(Object.assign({}, this.props), {\r\n                components: {\r\n                    sidebar: this.sidebar.render(),\r\n                    saveButton: this.savePersonalDataButton.render(),\r\n                    savePassButton: this.savePasswordButton.render()\r\n                }, name: res.response.first_name, profile_img: '', details: [\r\n                    {\r\n                        name: 'Имя',\r\n                        input: {\r\n                            name: 'first_name',\r\n                            type: 'text',\r\n                            placeholder: 'Имя',\r\n                        }\r\n                    },\r\n                    {\r\n                        name: 'Фамилия',\r\n                        input: {\r\n                            name: 'second_name',\r\n                            type: 'text',\r\n                            placeholder: 'Фамилия',\r\n                        }\r\n                    },\r\n                    {\r\n                        name: 'Имя в приложении',\r\n                        input: {\r\n                            name: 'display_name',\r\n                            type: 'text',\r\n                            placeholder: 'Имя в приложении',\r\n                        }\r\n                    },\r\n                    {\r\n                        name: 'Почта',\r\n                        input: {\r\n                            name: 'email',\r\n                            type: 'email',\r\n                            placeholder: 'Почта',\r\n                        }\r\n                    },\r\n                    {\r\n                        name: 'Логин',\r\n                        input: {\r\n                            name: 'login',\r\n                            type: 'text',\r\n                            placeholder: 'Логин',\r\n                        }\r\n                    },\r\n                    {\r\n                        name: 'Номер телефона',\r\n                        input: {\r\n                            name: 'phone',\r\n                            type: 'tel',\r\n                            placeholder: 'Номер телефона',\r\n                        }\r\n                    },\r\n                ], passwordData: [\r\n                    {\r\n                        name: 'Новый пароль',\r\n                        input: {\r\n                            name: 'newPassword',\r\n                            type: 'password',\r\n                            placeholder: 'Введите',\r\n                        }\r\n                    },\r\n                    {\r\n                        name: 'Старый пароль',\r\n                        input: {\r\n                            name: 'oldPassword',\r\n                            type: 'password',\r\n                            placeholder: 'Введите',\r\n                        }\r\n                    },\r\n                ]\r\n            });\r\n            try {\r\n                this.rootElement.removeChild(ProfileEditPage.profilePageElement);\r\n            }\r\n            catch (e) {\r\n                console.log('not deleted');\r\n            }\r\n            ProfileEditPage.profilePageElement = this._render();\r\n            this.rootElement.appendChild(ProfileEditPage.profilePageElement);\r\n            ProfileEditPage.profilePageElement.style.display = 'none';\r\n            if (router._currentRoute._pathname === '/profile-edit') {\r\n                ProfileEditPage.profilePageElement.style.display = 'block';\r\n            }\r\n            const inputs = {\r\n                login: {\r\n                    required: true,\r\n                },\r\n                first_name: {\r\n                    required: true,\r\n                },\r\n                second_name: {\r\n                    required: true,\r\n                },\r\n                email: {\r\n                    required: true,\r\n                    email: true,\r\n                },\r\n                newPassword: {\r\n                    required: true,\r\n                    minLength: 6,\r\n                },\r\n                oldPassword: {\r\n                    required: true,\r\n                    minLength: 6\r\n                },\r\n                phone: {\r\n                    required: true,\r\n                    minLength: 10,\r\n                },\r\n                display_name: {\r\n                    required: true,\r\n                }\r\n            };\r\n            _src_module_Validation__WEBPACK_IMPORTED_MODULE_3__.default.validate(inputs);\r\n            let forms = document.querySelectorAll('form');\r\n            Array.from(forms).forEach(form => {\r\n                form.addEventListener('submit', (e) => {\r\n                    let isValidData = (0,_src_module_form_handler__WEBPACK_IMPORTED_MODULE_4__.default)(e);\r\n                    if (isValidData) {\r\n                        let object = {};\r\n                        isValidData.forEach(function (value, key) {\r\n                            object[key] = value;\r\n                        });\r\n                        const json = JSON.stringify(object);\r\n                        _api_user_api__WEBPACK_IMPORTED_MODULE_6__.default.changeUserProfile(json)\r\n                            .then(res => {\r\n                            if (res.status === 200) {\r\n                                _vendor_state_index__WEBPACK_IMPORTED_MODULE_7__.default.set('auth', res.response);\r\n                                _vendor_state_index__WEBPACK_IMPORTED_MODULE_7__.default.set('users', res.response);\r\n                                router.go('/profile');\r\n                            }\r\n                        })\r\n                            .catch(err => {\r\n                            console.log(err);\r\n                        });\r\n                    }\r\n                });\r\n            });\r\n        })\r\n            .catch(err => {\r\n            console.log(err);\r\n        });\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new ProfileEditPage());\r\n//# sourceMappingURL=index.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/pages/profile-edit/index.js?");

/***/ }),

/***/ "./static/dist/pages/profile-edit/template.js":
/*!****************************************************!*\
  !*** ./static/dist/pages/profile-edit/template.js ***!
  \****************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\nlet pageTemplate = `\r\n        <div class=\"page-center\">\r\n        {{{ components.sidebar }}}\r\n    <main class=\"personal-account-wrapper\">\r\n        <div class=\"personal-image\">\r\n            <label class=\"personal-image-label\">\r\n                <input type=\"file\" name=\"avatar\">\r\n                {{#profile_img}}\r\n                    <img src=\"{{profile_img}}\" alt=\"Арина\">\r\n                {{/profile_img}}\r\n            </label>\r\n\r\n        </div>\r\n        <h1 class=\"inner-profile-name\">\r\n            {{name}}\r\n        </h1>\r\n        <form>\r\n            <div class=\"personal-data\">\r\n                <table>\r\n                 {{#details}}\r\n                    <tr>\r\n                        <td>\r\n                            <span>\r\n                                {{name}}\r\n                            </span>\r\n                        </td>\r\n                        <td>\r\n                            <label>\r\n                                <input name=\"{{input.name}}\" type=\"{{input.type}}\" class=\"personal-form-control\"\r\n                                               placeholder=\"{{input.placeholder}}\">\r\n                                               <span class=\"input-error\"></span>\r\n                             </label>\r\n                        </td>\r\n                    </tr>\r\n                 {{/details}}\r\n                </table>\r\n            </div>\r\n\r\n            <div class=\"personal-data-submittion-block\">\r\n               {{{components.saveButton}}}\r\n            </div>\r\n        </form>\r\n        <form>\r\n            <div class=\"personal-data\">\r\n                    <table>\r\n                        {{#passwordData}}\r\n                        <tr>\r\n                            <td>\r\n                                <span>\r\n                                    {{name}}\r\n                                </span>\r\n                            </td>\r\n                            <td>\r\n                                <label>\r\n                                    <input name=\"{{input.name}}\" type=\"{{input.type}}\" class=\"personal-form-control\"\r\n                                                   placeholder=\"{{input.placeholder}}\">\r\n                                     <span class=\"input-error\"></span>\r\n                                 </label>\r\n                            </td>\r\n                        </tr>\r\n                     {{/passwordData}}\r\n                    </table>\r\n                </div>\r\n                <div class=\"personal-data-submittion-block\">\r\n                   {{{components.savePassButton}}}\r\n\r\n                </div>\r\n        </form>\r\n    </main>\r\n</div>\r\n    `;\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (pageTemplate);\r\n//# sourceMappingURL=template.js.map\r\n//# sourceMappingURL=template.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/pages/profile-edit/template.js?");

/***/ }),

/***/ "./static/dist/pages/profile/index.js":
/*!********************************************!*\
  !*** ./static/dist/pages/profile/index.js ***!
  \********************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _vendor_state_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../vendor/state/index */ \"./static/dist/vendor/state/index.js\");\n/* harmony import */ var _components_sidebar_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../components/sidebar/index */ \"./static/dist/components/sidebar/index.js\");\n/* harmony import */ var _template__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./template */ \"./static/dist/pages/profile/template.js\");\n/* harmony import */ var _vendor_block_index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../vendor/block/index */ \"./static/dist/vendor/block/index.js\");\n/* harmony import */ var _vendor_router_index__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../vendor/router/index */ \"./static/dist/vendor/router/index.js\");\n/* harmony import */ var _src_api_auth_api__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../src/api/auth-api */ \"./static/src/api/auth-api.ts\");\n;\r\n\r\n\r\n\r\n\r\n\r\nconst router = new _vendor_router_index__WEBPACK_IMPORTED_MODULE_4__.default('.app');\r\nfunction signOut() {\r\n    _src_api_auth_api__WEBPACK_IMPORTED_MODULE_5__.default.logOut()\r\n        .then(() => {\r\n        _vendor_state_index__WEBPACK_IMPORTED_MODULE_0__.default.clearAll();\r\n        router.go('/');\r\n    })\r\n        .catch(err => console.log(err));\r\n}\r\nclass ProfilePage extends _vendor_block_index__WEBPACK_IMPORTED_MODULE_3__.default {\r\n    constructor() {\r\n        super('div');\r\n        this.rootElement = document.querySelector('.app');\r\n        if (this.rootElement === null) {\r\n            throw new Error('Корневого элемента не существует');\r\n        }\r\n        this.profilePageElement = document.createElement('div');\r\n        this.registerEvents();\r\n    }\r\n    registerEvents() {\r\n        this.eventBus.on(_vendor_block_index__WEBPACK_IMPORTED_MODULE_3__.default.EVENTS.FLOW_CDU, this.renderTo.bind(this));\r\n    }\r\n    hide() {\r\n        try {\r\n            ProfilePage.profilePageElement.remove();\r\n        }\r\n        catch (e) {\r\n            void e;\r\n        }\r\n    }\r\n    show() {\r\n        try {\r\n            this.renderTo();\r\n        }\r\n        catch (e) {\r\n            void e;\r\n        }\r\n    }\r\n    _fetchData() {\r\n        return new Promise((resolve, reject) => {\r\n            if (_vendor_state_index__WEBPACK_IMPORTED_MODULE_0__.default.auth.hasOwnProperty('id')) {\r\n                resolve(_vendor_state_index__WEBPACK_IMPORTED_MODULE_0__.default.auth);\r\n            }\r\n            else {\r\n                reject('error');\r\n            }\r\n        });\r\n    }\r\n    render() {\r\n        return Mustache.render(_template__WEBPACK_IMPORTED_MODULE_2__.default, this.props);\r\n    }\r\n    renderTo() {\r\n        this._fetchData()\r\n            .then(res => {\r\n            this.sidebar = new _components_sidebar_index__WEBPACK_IMPORTED_MODULE_1__.default({ href: '/no-chat' });\r\n            this.props = Object.assign(Object.assign({}, this.props), {\r\n                components: {\r\n                    sidebar: this.sidebar.render(),\r\n                },\r\n                name: res.first_name,\r\n                profile_img: res.avatar,\r\n                details: [\r\n                    {\r\n                        name: 'Почта',\r\n                        value: res.email\r\n                    },\r\n                    {\r\n                        name: 'Логин',\r\n                        value: res.login\r\n                    }\r\n                ]\r\n            });\r\n            try {\r\n                this.rootElement.removeChild(ProfilePage.profilePageElement);\r\n            }\r\n            catch (e) {\r\n                console.log('not deleter');\r\n            }\r\n            ProfilePage.profilePageElement = this._render();\r\n            this.rootElement.appendChild(ProfilePage.profilePageElement);\r\n            ProfilePage.profilePageElement.style.display = 'none';\r\n            if (router._currentRoute._pathname === '/profile') {\r\n                ProfilePage.profilePageElement.style.display = 'block';\r\n            }\r\n            let signOutButton = document.querySelector('.js-sign-out');\r\n            if (signOutButton !== null) {\r\n                signOutButton.addEventListener('click', signOut.bind(this));\r\n            }\r\n        })\r\n            .catch(err => {\r\n            console.log(err);\r\n            router.go('/');\r\n        });\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new ProfilePage());\r\n//# sourceMappingURL=index.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/pages/profile/index.js?");

/***/ }),

/***/ "./static/dist/pages/profile/template.js":
/*!***********************************************!*\
  !*** ./static/dist/pages/profile/template.js ***!
  \***********************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\nlet pageTemplate = `\r\n        <div class=\"page-center\">\r\n        {{{ components.sidebar }}}\r\n    <main class=\"personal-account-wrapper\">\r\n        <div class=\"personal-image\">\r\n            <label class=\"personal-image-label\">\r\n                <input type=\"file\" name=\"avatar\">\r\n                {{#profile_img}}\r\n                    <img src=\"{{profile_img}}\" alt=\"Арина\">\r\n                {{/profile_img}}\r\n            </label>\r\n\r\n        </div>\r\n        <h1 class=\"inner-profile-name\">\r\n            {{name}}\r\n        </h1>\r\n        <div class=\"personal-data\">\r\n            <table>\r\n             {{#details}}\r\n                <tr>\r\n                    <td>\r\n                        <span>\r\n                            {{name}}\r\n                        </span>\r\n                    </td>\r\n                    <td>\r\n                        <p>\r\n                            {{value}}\r\n                        </p>\r\n                    </td>\r\n                </tr>\r\n             {{/details}}\r\n            </table>\r\n        </div>\r\n        <div class=\"personal-data personal-data-change\">\r\n            <div class=\"personal-data-links\">\r\n                <a href=\"/profile-edit\" class=\"default-link\">\r\n                    Изменить данные\r\n                </a>\r\n\r\n                <div class=\"default-link red-colored js-sign-out\">\r\n                    Выйти\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </main>\r\n</div>\r\n    `;\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (pageTemplate);\r\n//# sourceMappingURL=template.js.map\r\n//# sourceMappingURL=template.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/pages/profile/template.js?");

/***/ }),

/***/ "./static/dist/pages/signIn/index.js":
/*!*******************************************!*\
  !*** ./static/dist/pages/signIn/index.js ***!
  \*******************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _components_button_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../components/button/index */ \"./static/dist/components/button/index.js\");\n/* harmony import */ var _template__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./template */ \"./static/dist/pages/signIn/template.js\");\n/* harmony import */ var _vendor_block_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../vendor/block/index */ \"./static/dist/vendor/block/index.js\");\n/* harmony import */ var _src_module_Validation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../src/module/Validation */ \"./static/src/module/Validation.ts\");\n/* harmony import */ var _src_module_form_handler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../src/module/form_handler */ \"./static/src/module/form_handler.ts\");\n/* harmony import */ var _api_auth_api__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../api/auth-api */ \"./static/dist/api/auth-api.js\");\n/* harmony import */ var _src_module_isAuth__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../src/module/isAuth */ \"./static/src/module/isAuth.ts\");\n/* harmony import */ var _src_module_placeholder__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../src/module/placeholder */ \"./static/src/module/placeholder.ts\");\n;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass signInPage extends _vendor_block_index__WEBPACK_IMPORTED_MODULE_2__.default {\r\n    constructor() {\r\n        super('div');\r\n        this.registerListeners();\r\n        this.button = new _components_button_index__WEBPACK_IMPORTED_MODULE_0__.default({\r\n            type: 'submit',\r\n            className: 'default-button',\r\n            text: 'Авторизоваться',\r\n        });\r\n        this.inputs = {\r\n            login: {\r\n                required: true,\r\n            },\r\n            password: {\r\n                required: true,\r\n                minLength: 6,\r\n            }\r\n        };\r\n    }\r\n    hide() {\r\n        if (this.rootElement !== null) {\r\n            this.rootElement.removeChild(this._render());\r\n        }\r\n    }\r\n    show() {\r\n        if (this.rootElement !== null) {\r\n            this.renderTo(this.rootElement);\r\n        }\r\n    }\r\n    registerListeners() {\r\n        this.eventBus.on(_vendor_block_index__WEBPACK_IMPORTED_MODULE_2__.default.EVENTS.FLOW_CDU, this.show.bind(this));\r\n    }\r\n    _fetchData() {\r\n        this.props = Object.assign(Object.assign({}, this.props), {\r\n            code: 404, components: {\r\n                button: this.button.render()\r\n            }, pageTitile: 'Вход', inputs: [\r\n                {\r\n                    name: 'login',\r\n                    type: 'text',\r\n                    placeholder: 'Почта'\r\n                },\r\n                {\r\n                    name: 'password',\r\n                    type: 'password',\r\n                    placeholder: 'Пароль'\r\n                },\r\n            ],\r\n            reason: '',\r\n        });\r\n    }\r\n    render() {\r\n        return Mustache.render(_template__WEBPACK_IMPORTED_MODULE_1__.default, this.props);\r\n    }\r\n    renderTo(rootElement) {\r\n        (0,_src_module_isAuth__WEBPACK_IMPORTED_MODULE_6__.default)('/profile');\r\n        this.rootElement = rootElement;\r\n        this._fetchData();\r\n        rootElement.appendChild(this._render());\r\n        _src_module_Validation__WEBPACK_IMPORTED_MODULE_3__.default.validate(this.inputs);\r\n        let inputControls = Array.from(document.querySelectorAll('.js-input-control'));\r\n        new _src_module_placeholder__WEBPACK_IMPORTED_MODULE_7__.default(inputControls);\r\n        let forms = document.querySelectorAll('.js-sign-in-form');\r\n        Array.from(forms).forEach(form => {\r\n            form.addEventListener('submit', (e) => {\r\n                let isValidData = (0,_src_module_form_handler__WEBPACK_IMPORTED_MODULE_4__.default)(e);\r\n                if (isValidData) {\r\n                    let object = {};\r\n                    isValidData.forEach(function (value, key) {\r\n                        object[key] = value;\r\n                    });\r\n                    const json = JSON.stringify(object);\r\n                    _api_auth_api__WEBPACK_IMPORTED_MODULE_5__.default.signIn(json)\r\n                        .then(resp => {\r\n                        if (resp.status === 401) {\r\n                            this.props = Object.assign(Object.assign({}, this.props), { reason: resp.response.reason });\r\n                            this.eventBus.emit(_vendor_block_index__WEBPACK_IMPORTED_MODULE_2__.default.EVENTS.FLOW_CDU);\r\n                        }\r\n                        if (resp.status === 200) {\r\n                            (0,_src_module_isAuth__WEBPACK_IMPORTED_MODULE_6__.default)('/profile');\r\n                        }\r\n                    })\r\n                        .catch(err => {\r\n                        console.log(err);\r\n                    });\r\n                }\r\n            });\r\n        });\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new signInPage());\r\n//# sourceMappingURL=index.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/pages/signIn/index.js?");

/***/ }),

/***/ "./static/dist/pages/signIn/template.js":
/*!**********************************************!*\
  !*** ./static/dist/pages/signIn/template.js ***!
  \**********************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\nlet pageTemplate = `\r\n        <div class=\"page-center\">\r\n        <div class=\"auth-form-wrapper\">\r\n            <form class=\"js-sign-in-form\" action=\"\" method=\"post\">\r\n                <div class=\"upper-form-block\">\r\n                    <h1 class=\"form-title\">\r\n                        {{pageTitile}}\r\n                    </h1>\r\n                    {{#inputs}}\r\n                        <label>\r\n                            <input name=\"{{name}}\" type=\"{{type}}\" class=\"js-input-control\">\r\n                            <span class=\"input-placeholder\">{{placeholder}}</span>\r\n                            <span class=\"input-error\"></span>\r\n                        </label>\r\n                    {{/inputs}}\r\n                </div>\r\n                <div class=\"auth-error\">\r\n                {{reason}}\r\n                </div>\r\n                <div class=\"auth-form-buttons-wrapper\">\r\n                     {{{ components.button }}}\r\n                    <div class=\"text-center\">\r\n                        <a href=\"/sign-up\" class=\"default-link\">\r\n                            Нет аккаунта?\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n    `;\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (pageTemplate);\r\n//# sourceMappingURL=template.js.map\r\n//# sourceMappingURL=template.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/pages/signIn/template.js?");

/***/ }),

/***/ "./static/dist/pages/signUp/index.js":
/*!*******************************************!*\
  !*** ./static/dist/pages/signUp/index.js ***!
  \*******************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _components_button_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../components/button/index */ \"./static/dist/components/button/index.js\");\n/* harmony import */ var _vendor_block_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../vendor/block/index */ \"./static/dist/vendor/block/index.js\");\n/* harmony import */ var _src_module_Validation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../src/module/Validation */ \"./static/src/module/Validation.ts\");\n/* harmony import */ var _src_module_form_handler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../src/module/form_handler */ \"./static/src/module/form_handler.ts\");\n/* harmony import */ var _template__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./template */ \"./static/dist/pages/signUp/template.js\");\n/* harmony import */ var _api_auth_api__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../api/auth-api */ \"./static/dist/api/auth-api.js\");\n/* harmony import */ var _vendor_router_index__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../vendor/router/index */ \"./static/dist/vendor/router/index.js\");\n/* harmony import */ var _src_module_isAuth__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../src/module/isAuth */ \"./static/src/module/isAuth.ts\");\n;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst router = new _vendor_router_index__WEBPACK_IMPORTED_MODULE_6__.default('.app');\r\nclass signUpPage extends _vendor_block_index__WEBPACK_IMPORTED_MODULE_1__.default {\r\n    constructor() {\r\n        super('div');\r\n        this.button = new _components_button_index__WEBPACK_IMPORTED_MODULE_0__.default({\r\n            type: 'submit',\r\n            className: 'default-button',\r\n            text: 'Авторизоваться'\r\n        });\r\n        this.inputs = {\r\n            first_name: {\r\n                required: true,\r\n            },\r\n            second_name: {\r\n                required: true,\r\n            },\r\n            login: {\r\n                required: true\r\n            },\r\n            email: {\r\n                required: true,\r\n                email: true,\r\n            },\r\n            phone: {\r\n                required: true,\r\n            },\r\n            password: {\r\n                required: true,\r\n                minLength: 6,\r\n            }\r\n        };\r\n    }\r\n    hide() {\r\n        if (this.rootElement !== null) {\r\n            this.rootElement.removeChild(this._render());\r\n        }\r\n    }\r\n    show() {\r\n        if (this.rootElement !== null) {\r\n            this.renderTo(this.rootElement);\r\n        }\r\n    }\r\n    _fetchData() {\r\n        this.props = Object.assign(Object.assign({}, this.props), {\r\n            components: {\r\n                button: this.button.render()\r\n            }, pageTitile: 'Регистрация',\r\n            reason: '',\r\n            inputs: [\r\n                {\r\n                    name: 'first_name',\r\n                    type: 'text',\r\n                    placeholder: 'Имя'\r\n                },\r\n                {\r\n                    name: 'second_name',\r\n                    type: 'text',\r\n                    placeholder: 'Фамилия'\r\n                },\r\n                {\r\n                    name: 'login',\r\n                    type: 'text',\r\n                    placeholder: 'Логин'\r\n                },\r\n                {\r\n                    name: 'email',\r\n                    type: 'email',\r\n                    placeholder: 'Email'\r\n                },\r\n                {\r\n                    name: 'password',\r\n                    type: 'password',\r\n                    placeholder: 'Пароль'\r\n                },\r\n                {\r\n                    name: 'phone',\r\n                    type: 'tel',\r\n                    placeholder: 'Номер телефона'\r\n                },\r\n            ]\r\n        });\r\n    }\r\n    render() {\r\n        return Mustache.render(_template__WEBPACK_IMPORTED_MODULE_4__.default, this.props);\r\n    }\r\n    renderTo(rootElement) {\r\n        (0,_src_module_isAuth__WEBPACK_IMPORTED_MODULE_7__.default)('/');\r\n        this._fetchData();\r\n        rootElement.appendChild(this._render());\r\n        this.rootElement = rootElement;\r\n        _src_module_Validation__WEBPACK_IMPORTED_MODULE_2__.default.validate(this.inputs);\r\n        let forms = document.querySelectorAll('.js-sign-up-form');\r\n        Array.from(forms).forEach(form => {\r\n            form.addEventListener('submit', (e) => {\r\n                let isValidData = (0,_src_module_form_handler__WEBPACK_IMPORTED_MODULE_3__.default)(e, this.inputs);\r\n                if (isValidData) {\r\n                    let object = {};\r\n                    isValidData.forEach(function (value, key) {\r\n                        object[key] = value;\r\n                    });\r\n                    const json = JSON.stringify(object);\r\n                    _api_auth_api__WEBPACK_IMPORTED_MODULE_5__.default.singUp(json)\r\n                        .then(resp => {\r\n                        console.log(resp);\r\n                        if (resp.status === 400 || resp.status === 409) {\r\n                            this.props = Object.assign(Object.assign({}, this.props), { reason: resp.response.reason });\r\n                            this.eventBus.emit(_vendor_block_index__WEBPACK_IMPORTED_MODULE_1__.default.EVENTS.FLOW_CDU);\r\n                        }\r\n                        if (resp.status === 200) {\r\n                            router.go('/profile');\r\n                        }\r\n                    })\r\n                        .catch(err => {\r\n                        console.log(err);\r\n                    });\r\n                }\r\n            });\r\n        });\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new signUpPage());\r\n//# sourceMappingURL=index.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/pages/signUp/index.js?");

/***/ }),

/***/ "./static/dist/pages/signUp/template.js":
/*!**********************************************!*\
  !*** ./static/dist/pages/signUp/template.js ***!
  \**********************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\nlet pageTemplate = `\r\n        <div class=\"page-center\">\r\n        <div class=\"auth-form-wrapper\">\r\n            <form class=\"js-sign-up-form\" action=\"\" method=\"post\">\r\n                <div class=\"upper-form-block\">\r\n                    <h1 class=\"form-title\">\r\n                        {{pageTitile}}\r\n                    </h1>\r\n                    {{#inputs}}\r\n                        <label>\r\n                            <input name=\"{{name}}\" type=\"{{type}}\" class=\"js-input-control\">\r\n                            <span class=\"input-placeholder\">{{placeholder}}</span>\r\n                            <span class=\"input-error\"></span>\r\n                        </label>\r\n                    {{/inputs}}\r\n                </div>\r\n                <div class=\"auth-error\">{{reason}}</div>\r\n                \r\n                <div class=\"auth-form-buttons-wrapper\">\r\n                     {{{ components.button }}}\r\n                    <div class=\"text-center\">\r\n                        <a href=\"/\" class=\"default-link\">\r\n                            Есть аккаунт?\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n    `;\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (pageTemplate);\r\n//# sourceMappingURL=template.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/pages/signUp/template.js?");

/***/ }),

/***/ "./static/dist/script/main.js":
/*!************************************!*\
  !*** ./static/dist/script/main.js ***!
  \************************************/
/*! namespace exports */
/*! exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _pages_404__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../pages/404 */ \"./static/dist/pages/404/index.js\");\n/* harmony import */ var _pages_500__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../pages/500 */ \"./static/dist/pages/500/index.js\");\n/* harmony import */ var _pages_signIn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../pages/signIn */ \"./static/dist/pages/signIn/index.js\");\n/* harmony import */ var _pages_signUp__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../pages/signUp */ \"./static/dist/pages/signUp/index.js\");\n/* harmony import */ var _vendor_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../vendor/router */ \"./static/dist/vendor/router/index.js\");\n/* harmony import */ var _pages_no_chat__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../pages/no-chat */ \"./static/dist/pages/no-chat/index.js\");\n/* harmony import */ var _pages_profile__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../pages/profile */ \"./static/dist/pages/profile/index.js\");\n/* harmony import */ var _pages_open_chat__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../pages/open-chat */ \"./static/dist/pages/open-chat/index.js\");\n/* harmony import */ var _pages_profile_edit__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../pages/profile-edit */ \"./static/dist/pages/profile-edit/index.js\");\n/* harmony import */ var _module_modal__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../module/modal */ \"./static/dist/module/modal.js\");\n;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nnew _module_modal__WEBPACK_IMPORTED_MODULE_9__.default();\r\nconst router = new _vendor_router__WEBPACK_IMPORTED_MODULE_4__.default(\".app\");\r\nrouter\r\n    .use(\"/404\", _pages_404__WEBPACK_IMPORTED_MODULE_0__.default)\r\n    .use(\"/500\", _pages_500__WEBPACK_IMPORTED_MODULE_1__.default)\r\n    .use('/', _pages_signIn__WEBPACK_IMPORTED_MODULE_2__.default)\r\n    .use('/sign-up', _pages_signUp__WEBPACK_IMPORTED_MODULE_3__.default)\r\n    .use('/no-chat', _pages_no_chat__WEBPACK_IMPORTED_MODULE_5__.default)\r\n    .use('/open-chat', _pages_open_chat__WEBPACK_IMPORTED_MODULE_7__.default)\r\n    .use('/profile', _pages_profile__WEBPACK_IMPORTED_MODULE_6__.default)\r\n    .use('/profile-edit', _pages_profile_edit__WEBPACK_IMPORTED_MODULE_8__.default)\r\n    .start();\r\ndocument.addEventListener('click', clickToLink);\r\nfunction clickToLink(e) {\r\n    let path = e.composedPath();\r\n    path.pop();\r\n    path.pop();\r\n    let isAnchor = Array.from(path).find(el => {\r\n        try {\r\n            if (el.matches('[href]')) {\r\n                return el;\r\n            }\r\n        }\r\n        catch (e) {\r\n            console.log(e);\r\n        }\r\n    });\r\n    if (isAnchor) {\r\n        e.preventDefault();\r\n        router.go(isAnchor.getAttribute('href'));\r\n    }\r\n}\r\n//# sourceMappingURL=main.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/script/main.js?");

/***/ }),

/***/ "./static/dist/vendor/Block/index.js":
/*!*******************************************!*\
  !*** ./static/dist/vendor/Block/index.js ***!
  \*******************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _eventbus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../eventbus */ \"./static/dist/vendor/eventbus/index.js\");\n;\r\nclass Block {\r\n    /** JSDoc\r\n     * @param {string} tagName\r\n     * @param {Object} props\r\n     *\r\n     * @returns {void}\r\n     */\r\n    constructor(tagName = \"div\", props = {}) {\r\n        this.setProps = (nextProps) => {\r\n            if (!nextProps) {\r\n                return;\r\n            }\r\n            Object.assign(this.props, nextProps);\r\n        };\r\n        const eventBus = new _eventbus__WEBPACK_IMPORTED_MODULE_0__.default();\r\n        this._meta = {\r\n            tagName,\r\n            props\r\n        };\r\n        this.props = this._makePropsProxy(props);\r\n        this.eventBus = eventBus;\r\n        this._registerEvents(eventBus);\r\n        eventBus.emit(Block.EVENTS.INIT);\r\n    }\r\n    _registerEvents(eventBus) {\r\n        eventBus.on(Block.EVENTS.INIT, this.init.bind(this));\r\n        eventBus.on(Block.EVENTS.FLOW_CDM, this._componentDidMount.bind(this));\r\n        eventBus.on(Block.EVENTS.FLOW_RENDER, this._render.bind(this));\r\n        eventBus.on(Block.EVENTS.FLOW_CDU, this._componentDidUpdate.bind(this));\r\n    }\r\n    _createResources() {\r\n        const { tagName } = this._meta;\r\n        this._element = this._createDocumentElement(tagName);\r\n    }\r\n    init() {\r\n        this._createResources();\r\n        this.eventBus.emit(Block.EVENTS.FLOW_CDM);\r\n    }\r\n    _componentDidMount() {\r\n        this.componentDidMount(this.props);\r\n        this._render();\r\n    }\r\n    // Может переопределять пользователь, необязательно трогать\r\n    componentDidMount(oldProps) {\r\n        return oldProps;\r\n    }\r\n    _componentDidUpdate(oldProps, newProps) {\r\n        const response = this.componentDidUpdate(oldProps, newProps);\r\n        void response;\r\n        this._render();\r\n    }\r\n    // Может переопределять пользователь, необязательно трогать\r\n    componentDidUpdate(oldProps, newProps) {\r\n        return [oldProps, newProps];\r\n    }\r\n    get element() {\r\n        return this._element;\r\n    }\r\n    _render() {\r\n        const block = this.render();\r\n        let divElement = document.createElement('div');\r\n        this._element.innerHTML = '';\r\n        divElement.innerHTML = block;\r\n        this._element.appendChild(divElement);\r\n        return this._element;\r\n    }\r\n    renderTo(root) {\r\n        void root;\r\n    }\r\n    // Может переопределять пользователь, необязательно трогать\r\n    render() {\r\n        return '123';\r\n    }\r\n    getContent() {\r\n        return this.element;\r\n    }\r\n    _makePropsProxy(props) {\r\n        // Можно и так передать this\r\n        // Такой способ больше не применяется с приходом ES6+\r\n        const self = this;\r\n        props = new Proxy(props, {\r\n            get(target, prop) {\r\n                return target[prop];\r\n            },\r\n            set(target, prop, newValue) {\r\n                target[prop] = newValue;\r\n                self.eventBus.emit(Block.EVENTS.FLOW_CDU);\r\n                return true;\r\n            },\r\n            deleteProperty(target, prop) {\r\n                void target;\r\n                void prop;\r\n                throw new Error('нет доступа');\r\n            }\r\n        });\r\n        return props;\r\n    }\r\n    _createDocumentElement(tagName) {\r\n        // Можно сделать метод, который через фрагменты в цикле создаёт сразу несколько блоков\r\n        return document.createElement(tagName);\r\n    }\r\n    show() {\r\n        this.element.style.display = 'block';\r\n    }\r\n    hide() {\r\n        this.element.style.display = 'none';\r\n    }\r\n}\r\nBlock.EVENTS = {\r\n    INIT: \"init\",\r\n    FLOW_CDM: \"flow:component-did-mount\",\r\n    FLOW_RENDER: \"flow:render\",\r\n    FLOW_CDU: \"flow:component-did-update\",\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Block);\r\n//# sourceMappingURL=index.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/vendor/Block/index.js?");

/***/ }),

/***/ "./static/dist/vendor/block/index.js":
/*!*******************************************!*\
  !*** ./static/dist/vendor/block/index.js ***!
  \*******************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _eventbus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../eventbus */ \"./static/dist/vendor/eventbus/index.js\");\n;\r\nclass Block {\r\n    /** JSDoc\r\n     * @param {string} tagName\r\n     * @param {Object} props\r\n     *\r\n     * @returns {void}\r\n     */\r\n    constructor(tagName = \"div\", props = {}) {\r\n        this.setProps = (nextProps) => {\r\n            if (!nextProps) {\r\n                return;\r\n            }\r\n            Object.assign(this.props, nextProps);\r\n        };\r\n        const eventBus = new _eventbus__WEBPACK_IMPORTED_MODULE_0__.default();\r\n        this._meta = {\r\n            tagName,\r\n            props\r\n        };\r\n        this.props = this._makePropsProxy(props);\r\n        this.eventBus = eventBus;\r\n        this._registerEvents(eventBus);\r\n        eventBus.emit(Block.EVENTS.INIT);\r\n    }\r\n    _registerEvents(eventBus) {\r\n        eventBus.on(Block.EVENTS.INIT, this.init.bind(this));\r\n        eventBus.on(Block.EVENTS.FLOW_CDM, this._componentDidMount.bind(this));\r\n        eventBus.on(Block.EVENTS.FLOW_RENDER, this._render.bind(this));\r\n        eventBus.on(Block.EVENTS.FLOW_CDU, this._componentDidUpdate.bind(this));\r\n    }\r\n    _createResources() {\r\n        const { tagName } = this._meta;\r\n        this._element = this._createDocumentElement(tagName);\r\n    }\r\n    init() {\r\n        this._createResources();\r\n        this.eventBus.emit(Block.EVENTS.FLOW_CDM);\r\n    }\r\n    _componentDidMount() {\r\n        this.componentDidMount(this.props);\r\n        this._render();\r\n    }\r\n    // Может переопределять пользователь, необязательно трогать\r\n    componentDidMount(oldProps) {\r\n        return oldProps;\r\n    }\r\n    _componentDidUpdate(oldProps, newProps) {\r\n        const response = this.componentDidUpdate(oldProps, newProps);\r\n        void response;\r\n        this._render();\r\n    }\r\n    // Может переопределять пользователь, необязательно трогать\r\n    componentDidUpdate(oldProps, newProps) {\r\n        return [oldProps, newProps];\r\n    }\r\n    get element() {\r\n        return this._element;\r\n    }\r\n    _render() {\r\n        const block = this.render();\r\n        let divElement = document.createElement('div');\r\n        this._element.innerHTML = '';\r\n        divElement.innerHTML = block;\r\n        this._element.appendChild(divElement);\r\n        return this._element;\r\n    }\r\n    renderTo(root) {\r\n        void root;\r\n    }\r\n    // Может переопределять пользователь, необязательно трогать\r\n    render() {\r\n        return '123';\r\n    }\r\n    getContent() {\r\n        return this.element;\r\n    }\r\n    _makePropsProxy(props) {\r\n        // Можно и так передать this\r\n        // Такой способ больше не применяется с приходом ES6+\r\n        const self = this;\r\n        props = new Proxy(props, {\r\n            get(target, prop) {\r\n                return target[prop];\r\n            },\r\n            set(target, prop, newValue) {\r\n                target[prop] = newValue;\r\n                self.eventBus.emit(Block.EVENTS.FLOW_CDU);\r\n                return true;\r\n            },\r\n            deleteProperty(target, prop) {\r\n                void target;\r\n                void prop;\r\n                throw new Error('нет доступа');\r\n            }\r\n        });\r\n        return props;\r\n    }\r\n    _createDocumentElement(tagName) {\r\n        // Можно сделать метод, который через фрагменты в цикле создаёт сразу несколько блоков\r\n        return document.createElement(tagName);\r\n    }\r\n    show() {\r\n        this.element.style.display = 'block';\r\n    }\r\n    hide() {\r\n        this.element.style.display = 'none';\r\n    }\r\n}\r\nBlock.EVENTS = {\r\n    INIT: \"init\",\r\n    FLOW_CDM: \"flow:component-did-mount\",\r\n    FLOW_RENDER: \"flow:render\",\r\n    FLOW_CDU: \"flow:component-did-update\",\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Block);\r\n//# sourceMappingURL=index.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/vendor/block/index.js?");

/***/ }),

/***/ "./static/dist/vendor/eventbus/index.js":
/*!**********************************************!*\
  !*** ./static/dist/vendor/eventbus/index.js ***!
  \**********************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\nclass EventBus {\r\n    constructor() {\r\n        this.listeners = {};\r\n    }\r\n    on(event, callback) {\r\n        if (this.listeners[event] === undefined) {\r\n            this.listeners[event] = [callback];\r\n            return;\r\n        }\r\n        this.listeners[event].push(callback);\r\n    }\r\n    off(event, callback) {\r\n        this._checkEventForExisence(event);\r\n        if (this.listeners[event] !== undefined) {\r\n            this.listeners[event] = this.listeners[event].filter((ecallback) => ecallback !== callback);\r\n        }\r\n    }\r\n    emit(event, ...args) {\r\n        this._checkEventForExisence(event);\r\n        this.listeners[event].forEach((callback) => {\r\n            let callbackFunction = callback.bind(null, ...args);\r\n            callbackFunction();\r\n        });\r\n    }\r\n    _checkEventForExisence(event) {\r\n        if (this.listeners[event] == undefined) {\r\n            throw new Error(`Нет события ${event}`);\r\n        }\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EventBus);\r\n//# sourceMappingURL=index.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/vendor/eventbus/index.js?");

/***/ }),

/***/ "./static/dist/vendor/route/index.js":
/*!*******************************************!*\
  !*** ./static/dist/vendor/route/index.js ***!
  \*******************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\nfunction isEqual(lhs, rhs) {\r\n    return lhs === rhs;\r\n}\r\nclass Route {\r\n    constructor(pathname, view, props) {\r\n        this._pathname = pathname;\r\n        this._block = view;\r\n        this._props = props;\r\n        this._isRendered = false;\r\n        this.__root = document.querySelector(this._props.rootQuery);\r\n        if (this.__root === null) {\r\n            throw new Error('Кореневая директория не найдена');\r\n        }\r\n    }\r\n    navigate(pathname) {\r\n        if (this.match(pathname)) {\r\n            this._pathname = pathname;\r\n            this.render();\r\n        }\r\n    }\r\n    leave() {\r\n        if (this._block) {\r\n            this._block.hide();\r\n        }\r\n    }\r\n    match(pathname) {\r\n        return isEqual(pathname, this._pathname);\r\n    }\r\n    render() {\r\n        if (!this._isRendered) {\r\n            if (this.__root !== null) {\r\n                this._block.renderTo(this.__root);\r\n                this._block.show();\r\n            }\r\n            return;\r\n        }\r\n        this._block.show();\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Route);\r\n//# sourceMappingURL=index.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/vendor/route/index.js?");

/***/ }),

/***/ "./static/dist/vendor/router/index.js":
/*!********************************************!*\
  !*** ./static/dist/vendor/router/index.js ***!
  \********************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _route__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../route */ \"./static/dist/vendor/route/index.js\");\n;\r\nclass Router {\r\n    constructor(rootQuery) {\r\n        if (Router.__instance) {\r\n            return Router.__instance;\r\n        }\r\n        this.routes = [];\r\n        this.history = window.history;\r\n        this._currentRoute = null;\r\n        this._rootQuery = rootQuery;\r\n        Router.__instance = this;\r\n    }\r\n    use(pathname, block) {\r\n        const route = new _route__WEBPACK_IMPORTED_MODULE_0__.default(pathname, block, { rootQuery: this._rootQuery });\r\n        this.routes.push(route);\r\n        return this;\r\n    }\r\n    start() {\r\n        window.onpopstate = ((event) => {\r\n            let currentTarget = event.currentTarget;\r\n            if (currentTarget.location !== null) {\r\n                let location = currentTarget.location.pathname;\r\n                this._onRoute(location);\r\n            }\r\n        });\r\n        if (document.location !== null) {\r\n            this._onRoute(document.location.pathname);\r\n        }\r\n    }\r\n    _onRoute(pathname) {\r\n        const route = this.getRoute(pathname);\r\n        if (this._currentRoute && this._currentRoute._pathname !== pathname) {\r\n            this._currentRoute.leave();\r\n        }\r\n        if (route === undefined) {\r\n            this._currentRoute = this.routes[0];\r\n            this.go('/404');\r\n            return;\r\n        }\r\n        this._currentRoute = route;\r\n        route.render();\r\n    }\r\n    go(pathname) {\r\n        if (this._currentRoute !== null) {\r\n            this.history.pushState(this._currentRoute._pathname, pathname, pathname);\r\n            this._onRoute(pathname);\r\n        }\r\n    }\r\n    back() {\r\n        this.history.back();\r\n    }\r\n    forward() {\r\n        this.history.forward();\r\n    }\r\n    getRoute(pathname) {\r\n        return this.routes.find(route => route.match(pathname));\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Router);\r\n//# sourceMappingURL=index.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/vendor/router/index.js?");

/***/ }),

/***/ "./static/dist/vendor/state/index.js":
/*!*******************************************!*\
  !*** ./static/dist/vendor/state/index.js ***!
  \*******************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _pages_profile__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../pages/profile */ \"./static/dist/pages/profile/index.js\");\n/* harmony import */ var _pages_open_chat__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../pages/open-chat */ \"./static/dist/pages/open-chat/index.js\");\n/* harmony import */ var _pages_no_chat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../pages/no-chat */ \"./static/dist/pages/no-chat/index.js\");\n/* harmony import */ var _pages_profile_edit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../pages/profile-edit */ \"./static/dist/pages/profile-edit/index.js\");\n;\r\n\r\n\r\n\r\nclass State {\r\n    constructor() {\r\n        if (State.__instance) {\r\n            return State.__instance;\r\n        }\r\n        this.chats = {};\r\n        this.auth = {};\r\n        this.users = {};\r\n        this.activeChat = {};\r\n        this._generateProxies();\r\n        State.__instance = this;\r\n    }\r\n    _clearAllProxies() {\r\n        this.chats = {};\r\n        this.users = {};\r\n        this.auth = {};\r\n        this.activeChat = {};\r\n    }\r\n    _generateProxies() {\r\n        this.chats = new Proxy(this.chats, {\r\n            get(target, prop) {\r\n                return target[prop];\r\n            },\r\n            set(target, prop, newValue) {\r\n                target[prop] = newValue;\r\n                _pages_open_chat__WEBPACK_IMPORTED_MODULE_1__.default.eventBus.emit('flow:component-did-update');\r\n                _pages_no_chat__WEBPACK_IMPORTED_MODULE_2__.default.eventBus.emit('flow:component-did-update');\r\n                return true;\r\n            },\r\n            deleteProperty(target, prop) {\r\n                void target;\r\n                void prop;\r\n                throw new Error('нет доступа');\r\n            }\r\n        });\r\n        this.auth = new Proxy(this.auth, {\r\n            get(target, prop) {\r\n                return target[prop];\r\n            },\r\n            set(target, prop, newValue) {\r\n                target[prop] = newValue;\r\n                _pages_profile__WEBPACK_IMPORTED_MODULE_0__.default.eventBus.emit('flow:component-did-update');\r\n                _pages_profile_edit__WEBPACK_IMPORTED_MODULE_3__.default.eventBus.emit('flow:component-did-update');\r\n                return true;\r\n            },\r\n            deleteProperty(target, prop) {\r\n                void target;\r\n                void prop;\r\n                throw new Error('нет доступа');\r\n            }\r\n        });\r\n        this.users = new Proxy(this.users, {\r\n            get(target, prop) {\r\n                return target[prop];\r\n            },\r\n            set(target, prop, newValue) {\r\n                console.log('set');\r\n                target[prop] = newValue;\r\n                _pages_profile__WEBPACK_IMPORTED_MODULE_0__.default.eventBus.emit('flow:component-did-update');\r\n                _pages_profile_edit__WEBPACK_IMPORTED_MODULE_3__.default.eventBus.emit('flow:component-did-update');\r\n                return true;\r\n            },\r\n            deleteProperty(target, prop) {\r\n                void target;\r\n                void prop;\r\n                throw new Error('нет доступа');\r\n            }\r\n        });\r\n        this.activeChat = new Proxy(this.activeChat, {\r\n            get(target, prop) {\r\n                return target[prop];\r\n            },\r\n            set(target, prop, newValue) {\r\n                target[prop] = newValue;\r\n                _pages_open_chat__WEBPACK_IMPORTED_MODULE_1__.default.eventBus.emit('flow:component-did-update');\r\n                return true;\r\n            },\r\n            deleteProperty(target, prop) {\r\n                void target;\r\n                void prop;\r\n                throw new Error('нет доступа');\r\n            }\r\n        });\r\n    }\r\n    checkForAuth() {\r\n        return this.auth.hasOwnProperty('id');\r\n    }\r\n    ;\r\n    set(name, object) {\r\n        Object.assign(this[name], object);\r\n    }\r\n    clearAll() {\r\n        this._clearAllProxies();\r\n        this._generateProxies();\r\n    }\r\n    get(name) {\r\n        return this[name];\r\n    }\r\n}\r\nlet store = new State();\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (store);\r\n//# sourceMappingURL=index.js.map\n\n//# sourceURL=webpack://y-messenger/./static/dist/vendor/state/index.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		if(__webpack_module_cache__[moduleId]) {
/******/ 			return __webpack_module_cache__[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	// startup
/******/ 	// Load entry module
/******/ 	__webpack_require__("./static/dist/script/main.js");
/******/ 	// This entry module used 'exports' so it can't be inlined
/******/ })()
;